{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      selectedStarNum: 0,\n      // 별점,\n      starLeftOffsetXs: [],\n      // 드래그를 위한 위치 좌표값\n      isRegistered: false // 등록이 완료 되었는지 여부\n    };\n  },\n\n  mounted() {\n    this.$_initStarOffsets();\n  },\n  methods: {\n    $_setStarNum(num) {\n      this.selectedStarNum = num;\n    },\n    // 드래그 기능을 위한 이벤트 감지\n    $_onTouchMove(e) {\n      if (this.isRegistered) {\n        return;\n      }\n      const touchEndPosX = e.changedTouches[0].pageX;\n      const starNum = this.$_getTouchEndStar(touchEndPosX);\n      this.$_setStarNum(starNum);\n    },\n    // 각 별들의 위치를 저장\n    $_initStarOffsets() {\n      [1, 2, 3, 4, 5].forEach(idx => {\n        const leftOffset = document.getElementById(`star${idx}`).offsetLeft;\n        this.starLeftOffsetXs.push(leftOffset);\n      });\n    },\n    // param - 사용자의 마지막 터치지점\n    $_getTouchEndStar(posX) {\n      this.starLeftOffsetXs.entries();\n      /* const array1 = ['a', 'b', 'c'];\r\n           array1.entries() => [0, \"a\"] [1, \"b\"] [2, \"c\"] */\n      for (const [idx, offsetX] of offsetArr) {\n        if (posX < offsetX) {\n          return idx;\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","selectedStarNum","starLeftOffsetXs","isRegistered","mounted","$_initStarOffsets","methods","$_setStarNum","num","$_onTouchMove","e","touchEndPosX","changedTouches","pageX","starNum","$_getTouchEndStar","forEach","idx","leftOffset","document","getElementById","offsetLeft","push","posX","entries","offsetX","offsetArr"],"sources":["C:\\Users\\Lim\\Desktop\\BOOK_0728\\MOONMOON\\vue_front\\src\\views\\test.vue"],"sourcesContent":["<template v-for=\"idx in 5\">\r\n  <!-- id는 label의 for값과 연결 됨 -->\r\n  <!-- v-model과 value값이 연결 됨 -->\r\n  <!-- radio 타입으로 클릭하면 v-model에 값이 반영됨 -->\r\n  <input\r\n    :id=\"`star${idx}`\"\r\n    :key=\"idx\"\r\n    v-model=\"selectedStarNum\"\r\n    type=\"radio\"\r\n    :value=\"idx\"\r\n    :disabled=\"isRegistered\"\r\n  />\r\n  <label :key=\"idx\" :for=\"`star${idx}`\" @touchmove=\"$_onTouchMove\"> </label>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      selectedStarNum: 0, // 별점,\r\n      starLeftOffsetXs: [], // 드래그를 위한 위치 좌표값\r\n      isRegistered: false, // 등록이 완료 되었는지 여부\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.$_initStarOffsets();\r\n  },\r\n\r\n  methods: {\r\n    $_setStarNum(num) {\r\n      this.selectedStarNum = num;\r\n    },\r\n    // 드래그 기능을 위한 이벤트 감지\r\n    $_onTouchMove(e) {\r\n      if (this.isRegistered) {\r\n        return;\r\n      }\r\n      const touchEndPosX = e.changedTouches[0].pageX;\r\n      const starNum = this.$_getTouchEndStar(touchEndPosX);\r\n      this.$_setStarNum(starNum);\r\n    },\r\n    // 각 별들의 위치를 저장\r\n    $_initStarOffsets() {\r\n      [1, 2, 3, 4, 5].forEach((idx) => {\r\n        const leftOffset = document.getElementById(`star${idx}`).offsetLeft;\r\n        this.starLeftOffsetXs.push(leftOffset);\r\n      });\r\n    },\r\n    // param - 사용자의 마지막 터치지점\r\n    $_getTouchEndStar(posX) {\r\n      this.starLeftOffsetXs.entries();\r\n      /* const array1 = ['a', 'b', 'c'];\r\n           array1.entries() => [0, \"a\"] [1, \"b\"] [2, \"c\"] */\r\n      for (const [idx, offsetX] of offsetArr) {\r\n        if (posX < offsetX) {\r\n          return idx;\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";AAgBA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,eAAe,EAAE,CAAC;MAAE;MACpBC,gBAAgB,EAAE,EAAE;MAAE;MACtBC,YAAY,EAAE,KAAK,CAAE;IACvB,CAAC;EACH,CAAC;;EAEDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,iBAAiB,CAAC,CAAC;EAC1B,CAAC;EAEDC,OAAO,EAAE;IACPC,YAAYA,CAACC,GAAG,EAAE;MAChB,IAAI,CAACP,eAAc,GAAIO,GAAG;IAC5B,CAAC;IACD;IACAC,aAAaA,CAACC,CAAC,EAAE;MACf,IAAI,IAAI,CAACP,YAAY,EAAE;QACrB;MACF;MACA,MAAMQ,YAAW,GAAID,CAAC,CAACE,cAAc,CAAC,CAAC,CAAC,CAACC,KAAK;MAC9C,MAAMC,OAAM,GAAI,IAAI,CAACC,iBAAiB,CAACJ,YAAY,CAAC;MACpD,IAAI,CAACJ,YAAY,CAACO,OAAO,CAAC;IAC5B,CAAC;IACD;IACAT,iBAAiBA,CAAA,EAAG;MAClB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAACW,OAAO,CAAEC,GAAG,IAAK;QAC/B,MAAMC,UAAS,GAAIC,QAAQ,CAACC,cAAc,CAAE,OAAMH,GAAI,EAAC,CAAC,CAACI,UAAU;QACnE,IAAI,CAACnB,gBAAgB,CAACoB,IAAI,CAACJ,UAAU,CAAC;MACxC,CAAC,CAAC;IACJ,CAAC;IACD;IACAH,iBAAiBA,CAACQ,IAAI,EAAE;MACtB,IAAI,CAACrB,gBAAgB,CAACsB,OAAO,CAAC,CAAC;MAC/B;;MAEA,KAAK,MAAM,CAACP,GAAG,EAAEQ,OAAO,KAAKC,SAAS,EAAE;QACtC,IAAIH,IAAG,GAAIE,OAAO,EAAE;UAClB,OAAOR,GAAG;QACZ;MACF;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}