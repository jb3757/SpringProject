{"ast":null,"code":"export default {\n  data() {\n    return {\n      bookname: \"\",\n      bookname2: \"\",\n      book_image: \"\",\n      book_author: \"\",\n      book_price: \"\",\n      book_category: \"\",\n      bookResults: [],\n      naverResults: [],\n      selectedBook: null\n    };\n  },\n  methods: {\n    book_research() {\n      //검색 시 입력창에 있는 걸로 알라딘 api 검색 실시합니다.\n      axios({\n        url: \"/getAladin\",\n        method: \"POST\",\n        data: {\n          bookname: this.bookname //서버으로 넘깁니다.\n        }\n      }).then(res => {\n        let aladinXml = res.data; //서버에서 json으로 검색 결과를 넘긴걸 변수에 넣습니다.\n        console.log(aladinXml.object.item);\n        if (aladinXml.object.item) {\n          //검색 결과가 있으면\n          this.bookResults = aladinXml.object.item.map(item => ({\n            //배열에 넣어줍니다.\n            title: item.title._text,\n            image: item.cover._text,\n            author: item.author._text,\n            price: item.priceStandard._text,\n            category: item.categoryName._text,\n            isbn: item.isbn13._text,\n            itemID: item._attributes.itemId\n          }));\n          this.selectedBook = \"defautl\"; //이건 왜 안될까요?\n        } else {\n          //검색결과가 없으면 선택창 작동안하게 합니다.\n          this.bookResults = [];\n          this.selectedBook = \"defautl\";\n        }\n      }).catch(err => {\n        //에러처리\n        console.log(err);\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","bookname","bookname2","book_image","book_author","book_price","book_category","bookResults","naverResults","selectedBook","methods","book_research","axios","url","method","then","res","aladinXml","console","log","object","item","map","title","_text","image","cover","author","price","priceStandard","category","categoryName","isbn","isbn13","itemID","_attributes","itemId","catch","err"],"sources":["C:\\Users\\Lim\\Desktop\\BOOK_0728\\MOONMOON\\vue_front\\src\\views\\bookInsert.vue"],"sourcesContent":["<template>\r\n  <div class=\"input_book_title\">\r\n    <form class=\"book_title_form\" @submit.prevent=\"book_research\">\r\n      <input\r\n        type=\"text\"\r\n        class=\"book_title\"\r\n        v-model=\"bookname\"\r\n        placeholder=\"Enter book name\"\r\n      />\r\n      <button type=\"submit\">검색</button>\r\n    </form>\r\n  </div>\r\n  <div class=\"book_info\">\r\n    <img :src=\"book_image\" class=\"book_image\" />\r\n    <h6>책 이름: {{ bookname2 }}</h6>\r\n    <h6>작가: {{ book_author }}</h6>\r\n    <h6>가격: {{ book_price }}</h6>\r\n    <h6>카테고리: {{ book_category }}</h6>\r\n  </div>\r\n\r\n  <div v-if=\"bookResults.length > 0\" class=\"book_selection\">\r\n    <label for=\"selectedBook\">Select a book:</label>\r\n    <select v-model=\"selectedBook\" @change=\"onBookSelectionChange\">\r\n      <option value=\"default\">-----------------------</option>\r\n      <option v-for=\"(book, index) in bookResults\" :key=\"index\" :value=\"index\">\r\n        {{ book.title }}\r\n      </option>\r\n    </select>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      bookname: \"\",\r\n      bookname2: \"\",\r\n      book_image: \"\",\r\n      book_author: \"\",\r\n      book_price: \"\",\r\n      book_category: \"\",\r\n      bookResults: [],\r\n      naverResults: [],\r\n      selectedBook: null,\r\n    };\r\n  },\r\n  methods: {\r\n    book_research() {\r\n      //검색 시 입력창에 있는 걸로 알라딘 api 검색 실시합니다.\r\n      axios({\r\n        url: \"/getAladin\",\r\n        method: \"POST\",\r\n        data: {\r\n          bookname: this.bookname, //서버으로 넘깁니다.\r\n        },\r\n      })\r\n        .then((res) => {\r\n          let aladinXml = res.data; //서버에서 json으로 검색 결과를 넘긴걸 변수에 넣습니다.\r\n          console.log(aladinXml.object.item);\r\n          if (aladinXml.object.item) {\r\n            //검색 결과가 있으면\r\n            this.bookResults = aladinXml.object.item.map((item) => ({\r\n              //배열에 넣어줍니다.\r\n              title: item.title._text,\r\n              image: item.cover._text,\r\n              author: item.author._text,\r\n              price: item.priceStandard._text,\r\n              category: item.categoryName._text,\r\n              isbn: item.isbn13._text,\r\n              itemID: item._attributes.itemId,\r\n            }));\r\n            this.selectedBook = \"defautl\"; //이건 왜 안될까요?\r\n          } else {\r\n            //검색결과가 없으면 선택창 작동안하게 합니다.\r\n            this.bookResults = [];\r\n            this.selectedBook = \"defautl\";\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          //에러처리\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":"AAgCA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,SAAS,EAAE,EAAE;MACbC,UAAU,EAAE,EAAE;MACdC,WAAW,EAAE,EAAE;MACfC,UAAU,EAAE,EAAE;MACdC,aAAa,EAAE,EAAE;MACjBC,WAAW,EAAE,EAAE;MACfC,YAAY,EAAE,EAAE;MAChBC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,aAAaA,CAAA,EAAG;MACd;MACAC,KAAK,CAAC;QACJC,GAAG,EAAE,YAAY;QACjBC,MAAM,EAAE,MAAM;QACdd,IAAI,EAAE;UACJC,QAAQ,EAAE,IAAI,CAACA,QAAQ,CAAE;QAC3B;MACF,CAAC,EACEc,IAAI,CAAEC,GAAG,IAAK;QACb,IAAIC,SAAQ,GAAID,GAAG,CAAChB,IAAI,EAAE;QAC1BkB,OAAO,CAACC,GAAG,CAACF,SAAS,CAACG,MAAM,CAACC,IAAI,CAAC;QAClC,IAAIJ,SAAS,CAACG,MAAM,CAACC,IAAI,EAAE;UACzB;UACA,IAAI,CAACd,WAAU,GAAIU,SAAS,CAACG,MAAM,CAACC,IAAI,CAACC,GAAG,CAAED,IAAI,KAAM;YACtD;YACAE,KAAK,EAAEF,IAAI,CAACE,KAAK,CAACC,KAAK;YACvBC,KAAK,EAAEJ,IAAI,CAACK,KAAK,CAACF,KAAK;YACvBG,MAAM,EAAEN,IAAI,CAACM,MAAM,CAACH,KAAK;YACzBI,KAAK,EAAEP,IAAI,CAACQ,aAAa,CAACL,KAAK;YAC/BM,QAAQ,EAAET,IAAI,CAACU,YAAY,CAACP,KAAK;YACjCQ,IAAI,EAAEX,IAAI,CAACY,MAAM,CAACT,KAAK;YACvBU,MAAM,EAAEb,IAAI,CAACc,WAAW,CAACC;UAC3B,CAAC,CAAC,CAAC;UACH,IAAI,CAAC3B,YAAW,GAAI,SAAS,EAAE;QACjC,OAAO;UACL;UACA,IAAI,CAACF,WAAU,GAAI,EAAE;UACrB,IAAI,CAACE,YAAW,GAAI,SAAS;QAC/B;MACF,CAAC,EACA4B,KAAK,CAAEC,GAAG,IAAK;QACd;QACApB,OAAO,CAACC,GAAG,CAACmB,GAAG,CAAC;MAClB,CAAC,CAAC;IACN;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}