{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport \"@/assets/css/event.css\";\nimport GnbBar from \"../components/gnbBar.vue\";\nimport TabsWrapper from \"../components/TabsWrapper.vue\";\nimport TabItem from \"../components/TabItem.vue\";\naxios.defaults.baseURL = \"http://localhost:3000\";\naxios.defaults.headers.post[\"Content-Type\"] = \"application/json;charset=utf-8\";\naxios.defaults.headers.post[\"Access-Control-Allow-Origin\"] = \"*\";\nexport default {\n  components: {\n    GnbBar,\n    TabsWrapper,\n    TabItem\n  },\n  data() {\n    return {\n      userEmail: localStorage.getItem(\"userID\"),\n      value: [100, 500, 1000, 500, 3000, 5000],\n      //룰렛 돌리고 받는 포인트\n      //룰렛 이미지 assets/룰.png보면 0~5 적어놨는데 이 배열임\n      // ex) 3 > value[3];\n      rolLength: 6,\n      //룰렛 보상 배열 길이\n      probabilities: [0.5, 0.15, 0.1, 0.15, 0.07, 0.03],\n      // [0.5, 0.15, 0.1, 0.15, 0.07, 0.03]\n      //룰렛 보상 확률 1 = 100%\n      setNum: null,\n      showModal: false,\n      modalTitle: \"\",\n      // 모달 제목을 동적으로 표시할 변수\n      modalBody: \"\",\n      // 모달 본문을 동적으로 표시할 변수\n\n      selectedValue: null,\n      modalMessage: \"\",\n      userAtt: [],\n      //출석체크 데이터\n      today: null,\n      //오늘의 날짜 데이터\n      month: null,\n      //30일인지 31일인지 확인\n      realMonth: new Date().getMonth() + 1,\n      startDay: \"\",\n      calendar: []\n    };\n  },\n  mounted() {\n    this.getMonth(); //몇 월인지 받아오기\n    this.getUserAtt(); //유저가 출석한 날짜 받아오기\n    this.testDate(); //시작일 ex)8월 1일 이 무슨 요일인지 확인하는 함수\n    this.getCan(); //달력 출력\n  },\n\n  methods: {\n    async startRoulette() {\n      const backServer = \"http://localhost:3000/roulette\";\n      try {\n        const response = await axios.get(`${backServer}/checkroul`, {\n          params: {\n            userEmail: this.userEmail\n          }\n        });\n        this.handleRouletteResponse(response);\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    handleRouletteResponse(response) {\n      console.log(response.data.message);\n      if (response.data.message === \"참여불가\") {\n        // 이미 참여한 경우 모달 표시\n        this.setNum = null;\n        this.showModal = true;\n        this.modalTitle = \"이미 참여하셨네요!\";\n        this.modalBody = \"내일 다시 참여해주세요.\";\n      } else {\n        // 아직 참여하지 않은 경우 룰렛 돌리기\n        this.setNum = this.rRandom();\n        this.selectedValue = this.value[this.setNum];\n        this.rRotate();\n        const backServer = \"http://localhost:3000/roulette\";\n        axios.post(`${backServer}/addroul`, {\n          userEmail: this.userEmail,\n          selectedValue: this.selectedValue\n        }).then(response => {\n          console.log(response.data.message);\n          // 룰렛 결과에 따른 모달 표시\n\n          this.modalTitle = \"축하합니다!\";\n          this.modalBody = `${this.selectedValue}P 당첨되었습니다!`;\n          setTimeout(() => {\n            this.showModal = true;\n            // setTimeout(() => {\n            //   window.location.reload();\n            // }, 1000);\n          }, 8000);\n        }).catch(error => {\n          console.error(error);\n        });\n      }\n    },\n    rRandom() {\n      var rand = Math.random();\n      // 0~1\n      var sum = 0;\n      for (var i = 0; i < this.probabilities.length; i++) {\n        //보상 확률의 길이(6) 만큼 반복\n        sum += this.probabilities[i];\n        //0 + 보상 확률 배열에서 순서대로 플러스\n        if (rand < sum) return i;\n        // 0~1 사이의 랜덤값중에 sum이 더 커지면 보상 확률 배열중 더 커졋을때의 인덱스 값을 리턴\n      }\n\n      return this.probabilities.length - 1;\n      //이건 혹시 모를 에러 처리 부분같음\n    },\n\n    rRotate() {\n      var panel = this.$refs.panel; // 이 부분 수정\n      var btn = this.$refs.btn; // 이 부분 수정\n\n      var deg = [];\n      for (var i = 1, len = this.rolLength; i <= len; i++) {\n        // len = 6(보상 포인트 배열의 길이) 1~6\n        deg.push(360 / len * i);\n        //룰렛의 각도를 정하는 거임\n        //360도중 보상 선택지가 6개이니까 60도씩 각도 담당 배열에 저장\n        //ex) [60, 120, 180, 240, 300, 360]\n      }\n\n      console.log(deg);\n      var num = 0;\n\n      //this.$el.append(this.$refs.hiddenInput);\n      this.$refs.panel.appendChild(this.$refs.hiddenInput);\n      //   this.setNum = this.$refs.hiddenInput.value = this.rRandom();\n      this.modalMessage = \"\";\n      var ani = setInterval(() => {\n        //0.05초마다 실행\n        num++;\n        panel.style.transform = \"rotate(\" + 360 * num + \"deg)\";\n        //회전시키는 css나 vue 애니메이션같은데 아마?\n        btn.disabled = true;\n        //룰렛버튼 비활성화\n        btn.style.pointerEvents = \"none\";\n        //룰렛버튼 비활성화 2\n\n        if (num === 50) {\n          //존나 돌리다보면\n          clearInterval(ani);\n          //룰렛 애니메이션 중지\n          panel.style.transform = `rotate(${deg[this.setNum]}deg)`;\n          //각도 담당 배열을 이용하여 rRandom()을 실행하여 받은 0~5에 해당하는 각도로 룰렛 고정\n          //일정한 각도로 정지를 하긴하는데 잘 모르겠네..\n\n          // console.log(this.value[this.setNum]);\n\n          this.selectedValue = this.value[this.setNum];\n          setTimeout(() => {\n            this.rLayerPopup(this.setNum);\n            //룰렛 실행시킨지 5.5초후 자동으로 버튼 활성화\n            btn.disabled = false;\n            btn.style.pointerEvents = \"auto\";\n          }, 5500);\n        }\n      }, 50);\n      //0.05초마다 실행\n    },\n\n    rLayerPopup(num) {\n      const prizes = [100, 500, 1000, 500, 3000, 5000];\n      //주기로한 포인트 배열 value랑 같음 굳이 또 선언해야하나?\n\n      this.modalMessage = prizes[num];\n      //모달 메세지에 rRandom()을 실행하여 받은 0~5 에 해당하는 값을 보여줌\n      // var modal = this.$refs.resultModal;\n      // modal.style.display = \"block\";\n      this.showModal = true;\n      //모달 css\n    },\n\n    hideModal() {\n      // var modal = this.$refs.resultModal;\n      // modal.style.display = \"none\";\n      this.showModal = false;\n    },\n    checkAtt(index) {\n      // 유저가 출석한 날짜를 받아와서 출석한 날짜는 true 안한 날짜는 false로 return\n      return this.userAtt.includes(index);\n    },\n    testDate() {\n      const thisYear = new Date().getFullYear(); //연도\n      const thisMonth = new Date().getMonth(); //달\n      const thisFirstDay = new Date(thisYear, thisMonth, 1); //ex) 2023/8/1\n      const firstDayDate = thisFirstDay.getDay(); //요일구하기 0=일요일 1=월요일...\n\n      return this.startDay = firstDayDate; //적용\n    },\n\n    getMonth() {\n      //달에 알맞은 일자 출력하게 하는 함수\n      //new Date 객체 생성하고 getMonth() 쓰는게 더 간단함\n      const checkMonth = new Date().toISOString().slice(5, 7); //2023-\"01\"-01 //무슨 달인지 추출\n      if (checkMonth == \"01\" || checkMonth == \"03\" || checkMonth == \"05\" || checkMonth == \"07\" || checkMonth == \"08\" || checkMonth == \"10\" || checkMonth == \"12\") {\n        this.month = 31; //31일인 달\n      } else if (checkMonth == \"02\") {\n        this.month = 28; //2월은 28일\n      } else {\n        this.month = 30; //나머지는 30일\n      }\n    },\n\n    getCan() {\n      this.calendar.length = 35; //달력 느낌나게 배열 길이 설정\n      this.month = 28;\n      if (this.startDay > 4) {\n        //요일이 수요일 이상이면 넘어가니까 길이 더 길게 설정\n        this.calendar.length = 42;\n      }\n      var daynum = 1; //요일 일자 나오게 설정\n      for (var i = this.startDay; i <= this.month - 1 + this.startDay; i++) {\n        this.calendar[i] = daynum;\n        daynum++;\n      }\n      console.log(this.calendar);\n    },\n    getUserAtt() {\n      if (!this.userEmail) {\n        return;\n      }\n      axios({\n        url: `http://localhost:3000/att`,\n        method: \"GET\",\n        params: {\n          email: this.userEmail\n        }\n      }).then(res => {\n        if (res.data == \"출석체크 기록이 없습니다.\") {\n          this.userAtt = [];\n        } else {\n          this.userAtt = res.data;\n        }\n      });\n    },\n    attendance() {\n      const today1 = new Date().getDate();\n      if (!localStorage.getItem(\"userID\")) {\n        alert(\"로그인해주세요\");\n        return;\n      }\n      if (this.userAtt.includes(today1)) {\n        //버튼 연속으로 누르면 거부하는 조건문\n        alert(\"이미 출석하셨습니다.\");\n        return;\n      }\n      axios({\n        url: \"/att/attendance\",\n        method: \"POST\",\n        data: {\n          email: this.userEmail,\n          date: today1\n        }\n      }).then(res => {\n        alert(\"출석체크 성공!\");\n        this.getUserAtt();\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","GnbBar","TabsWrapper","TabItem","defaults","baseURL","headers","post","components","data","userEmail","localStorage","getItem","value","rolLength","probabilities","setNum","showModal","modalTitle","modalBody","selectedValue","modalMessage","userAtt","today","month","realMonth","Date","getMonth","startDay","calendar","mounted","getUserAtt","testDate","getCan","methods","startRoulette","backServer","response","get","params","handleRouletteResponse","error","console","log","message","rRandom","rRotate","then","setTimeout","catch","rand","Math","random","sum","i","length","panel","$refs","btn","deg","len","push","num","appendChild","hiddenInput","ani","setInterval","style","transform","disabled","pointerEvents","clearInterval","rLayerPopup","prizes","hideModal","checkAtt","index","includes","thisYear","getFullYear","thisMonth","thisFirstDay","firstDayDate","getDay","checkMonth","toISOString","slice","daynum","url","method","email","res","attendance","today1","getDate","alert","date","err"],"sources":["C:\\Users\\Lim\\Desktop\\BOOK_0728\\MOONMOON\\vue_front\\src\\views\\event.vue"],"sourcesContent":["<style src=\"../assets/css/qnaList.css\"></style>\r\n<template>\r\n    <div>\r\n        <GnbBar />\r\n\r\n        <div class=\"mypage_menu\"></div>\r\n        <div class=\"right_box\">\r\n            <h1 class=\"qna_title_big\">EVENT</h1>\r\n\r\n            <!-- 탭시작 -->\r\n            <section class=\"tabWrap\">\r\n                <TabsWrapper>\r\n                    <TabItem title=\"룰렛\">\r\n                        <div class=\"moonroul\">\r\n                            <div class=\"roultitle\">MOONMOON 룰렛 이벤트</div>\r\n                            <div class=\"roultitle1\">꽝 없는 100% 당첨! 포인트 받고 책 읽자!</div>\r\n                            <div>\r\n                                <img class=\"luckyroul\" src=\"../assets/img/럭키룰렛.png\" alt=\"럭키룰렛\" />\r\n                            </div>\r\n                            <div id=\"app\">\r\n                                <div class=\"roulette_set\">\r\n                                    <div class=\"rouletter\">\r\n                                        <div class=\"rouletter-bg\">\r\n                                            <img src=\"../assets/img/roul_back.png\" alt=\"\" />\r\n                                            <div class=\"rouletter-wacu\" ref=\"panel\"></div>\r\n                                        </div>\r\n                                        <div class=\"rouletter-arrow\"></div>\r\n                                        <button class=\"rouletter-btn\" @click=\"startRoulette()\" ref=\"btn\">GO!</button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <input type=\"hidden\" class=\"hidden-input\" ref=\"hiddenInput\" />\r\n                                <div class=\"modal\" id=\"resultModal\" :class=\"{ 'modal-show': showModal }\" ref=\"resultModal\">\r\n                                    <div class=\"modal-dialog\">\r\n                                        <div class=\"modal-content\">\r\n                                            <div class=\"modal-title\" v-if=\"modalTitle\">\r\n                                                {{ modalTitle }}\r\n                                            </div>\r\n                                            <div class=\"modal-body\" id=\"modal-body\" v-if=\"modalBody\">\r\n                                                {{ modalBody }}\r\n                                            </div>\r\n                                            <div class=\"modal-footer\">\r\n                                                <div class=\"modal-close\" @click=\"hideModal\">&times;</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"roulinfo\">\r\n                                <div class=\"roulinfo_1\">\r\n                                    <div class=\"roulspan\">행사기간</div>\r\n                                    <div class=\"roulspan1\">2023.08.01 - 2023.08.31</div>\r\n                                </div>\r\n                                <div class=\"roulinfo_2\">\r\n                                    <div class=\"roulcustom\">대상고객</div>\r\n                                    <div class=\"roulcustom1\">문문서점 전 회원 (아이디당 1일 1회 참여 가능)</div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"luckyrouldesc\">\r\n                                <img src=\"../assets/img/룰렛당첨안내.png\" alt=\"룰렛 당첨안내\" />\r\n                            </div>\r\n                            <div class=\"awareroul\">\r\n                                <div class=\"importantroul\">꼭! 알아두세요</div>\r\n                                <hr class=\"roulline\" />\r\n                                <div class=\"roulguide\">\r\n                                    •행사 기간 내 문문서점 로그인 한 후 참여 가능하며, 쿠폰은 이벤트 기간 내 ID당 1일 1회만 발급 가능합니다.<br />\r\n                                    •포인트 사용은 이벤트 기간 내 사용가능하며, 사용된 포인트 취소 시 이벤트 기간에만 재 사용 가능합니다.<br />\r\n                                    •포인트는 마이페이지에서 확인 가능합니다.<br />\r\n                                    •본 이벤트는 당사 사정에 의해 조기 종료될 수 있습니다\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </TabItem>\r\n                    <TabItem title=\"출석체크\">\r\n                        <div class=\"attendance\">\r\n                            <div class=\"bar_wrap\">\r\n                                <p class=\"name\">{{ realMonth }}월의 출석</p>\r\n                                <div class=\"bar\">\r\n                                    <div style=\"width: 13%\"></div>\r\n                                </div>\r\n                            </div>\r\n                            <!-- 상단 문구 -->\r\n                            <div class=\"head\"></div>\r\n\r\n                            <!-- 출석 도장 영역 -->\r\n                            <div class=\"stamp_wrap\">\r\n                                <ol class=\"stamp\">\r\n                                    <li v-for=\"index in calendar\">\r\n                                        <div class=\"stamp-item\">\r\n                                            <div v-if=\"index === undefined\" class=\"emptyCal\"></div>\r\n                                            <div v-else-if=\"checkAtt(index)\" class=\"viewCal\">\r\n                                                <img\r\n                                                    src=\"https://contents.kyobobook.co.kr/resources/fo/images/common/ink/img_attendance_active@2x.png\"\r\n                                                    alt=\"출석완료\"\r\n                                                />\r\n                                            </div>\r\n                                            <div class=\"viewCal\" v-else>{{ index }}</div>\r\n                                        </div>\r\n                                    </li>\r\n                                </ol>\r\n                            </div>\r\n                            <div class=\"attendance_button\">\r\n                                <button @click=\"attendance\">출석체크</button>\r\n                            </div>\r\n                            <!-- 비로그인인 경우 -->\r\n                        </div>\r\n                        <div class=\"benefit\">\r\n                            <div class=\"benefit_text1\">-출석체크 혜택-</div>\r\n                            <br />\r\n                            <div class=\"benefit_text2\">출석 할 때 마다 100포인트씩 드려요</div>\r\n                        </div>\r\n                    </TabItem>\r\n                    <TabItem title=\"종료된 이벤트\"> </TabItem>\r\n                </TabsWrapper>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nimport \"@/assets/css/event.css\";\r\nimport GnbBar from \"../components/gnbBar.vue\";\r\nimport TabsWrapper from \"../components/TabsWrapper.vue\";\r\nimport TabItem from \"../components/TabItem.vue\";\r\naxios.defaults.baseURL = \"http://localhost:3000\";\r\naxios.defaults.headers.post[\"Content-Type\"] = \"application/json;charset=utf-8\";\r\naxios.defaults.headers.post[\"Access-Control-Allow-Origin\"] = \"*\";\r\n\r\nexport default {\r\n    components: {\r\n        GnbBar,\r\n        TabsWrapper,\r\n        TabItem,\r\n    },\r\n    data() {\r\n        return {\r\n            userEmail: localStorage.getItem(\"userID\"),\r\n\r\n            value: [100, 500, 1000, 500, 3000, 5000],\r\n            //룰렛 돌리고 받는 포인트\r\n            //룰렛 이미지 assets/룰.png보면 0~5 적어놨는데 이 배열임\r\n            // ex) 3 > value[3];\r\n            rolLength: 6,\r\n            //룰렛 보상 배열 길이\r\n            probabilities: [0.5, 0.15, 0.1, 0.15, 0.07, 0.03],\r\n            // [0.5, 0.15, 0.1, 0.15, 0.07, 0.03]\r\n            //룰렛 보상 확률 1 = 100%\r\n            setNum: null,\r\n            showModal: false,\r\n            modalTitle: \"\", // 모달 제목을 동적으로 표시할 변수\r\n            modalBody: \"\", // 모달 본문을 동적으로 표시할 변수\r\n\r\n            selectedValue: null,\r\n            modalMessage: \"\",\r\n\r\n            userAtt: [], //출석체크 데이터\r\n            today: null, //오늘의 날짜 데이터\r\n            month: null, //30일인지 31일인지 확인\r\n            realMonth: new Date().getMonth() + 1,\r\n            startDay: \"\",\r\n            calendar: [],\r\n        };\r\n    },\r\n    mounted() {\r\n        this.getMonth(); //몇 월인지 받아오기\r\n        this.getUserAtt(); //유저가 출석한 날짜 받아오기\r\n        this.testDate(); //시작일 ex)8월 1일 이 무슨 요일인지 확인하는 함수\r\n        this.getCan(); //달력 출력\r\n    },\r\n\r\n    methods: {\r\n        async startRoulette() {\r\n            const backServer = \"http://localhost:3000/roulette\";\r\n            try {\r\n                const response = await axios.get(`${backServer}/checkroul`, {\r\n                    params: {\r\n                        userEmail: this.userEmail,\r\n                    },\r\n                });\r\n                this.handleRouletteResponse(response);\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        },\r\n\r\n        handleRouletteResponse(response) {\r\n            console.log(response.data.message);\r\n            if (response.data.message === \"참여불가\") {\r\n                // 이미 참여한 경우 모달 표시\r\n                this.setNum = null;\r\n                this.showModal = true;\r\n                this.modalTitle = \"이미 참여하셨네요!\";\r\n                this.modalBody = \"내일 다시 참여해주세요.\";\r\n            } else {\r\n                // 아직 참여하지 않은 경우 룰렛 돌리기\r\n                this.setNum = this.rRandom();\r\n                this.selectedValue = this.value[this.setNum];\r\n                this.rRotate();\r\n\r\n                const backServer = \"http://localhost:3000/roulette\";\r\n                axios\r\n                    .post(`${backServer}/addroul`, {\r\n                        userEmail: this.userEmail,\r\n                        selectedValue: this.selectedValue,\r\n                    })\r\n                    .then((response) => {\r\n                        console.log(response.data.message);\r\n                        // 룰렛 결과에 따른 모달 표시\r\n\r\n                        this.modalTitle = \"축하합니다!\";\r\n                        this.modalBody = `${this.selectedValue}P 당첨되었습니다!`;\r\n                        setTimeout(() => {\r\n                            this.showModal = true;\r\n                            // setTimeout(() => {\r\n                            //   window.location.reload();\r\n                            // }, 1000);\r\n                        }, 8000);\r\n                    })\r\n                    .catch((error) => {\r\n                        console.error(error);\r\n                    });\r\n            }\r\n        },\r\n        rRandom() {\r\n            var rand = Math.random();\r\n            // 0~1\r\n            var sum = 0;\r\n            for (var i = 0; i < this.probabilities.length; i++) {\r\n                //보상 확률의 길이(6) 만큼 반복\r\n                sum += this.probabilities[i];\r\n                //0 + 보상 확률 배열에서 순서대로 플러스\r\n                if (rand < sum) return i;\r\n                // 0~1 사이의 랜덤값중에 sum이 더 커지면 보상 확률 배열중 더 커졋을때의 인덱스 값을 리턴\r\n            }\r\n            return this.probabilities.length - 1;\r\n            //이건 혹시 모를 에러 처리 부분같음\r\n        },\r\n        rRotate() {\r\n            var panel = this.$refs.panel; // 이 부분 수정\r\n            var btn = this.$refs.btn; // 이 부분 수정\r\n\r\n            var deg = [];\r\n            for (var i = 1, len = this.rolLength; i <= len; i++) {\r\n                // len = 6(보상 포인트 배열의 길이) 1~6\r\n                deg.push((360 / len) * i);\r\n                //룰렛의 각도를 정하는 거임\r\n                //360도중 보상 선택지가 6개이니까 60도씩 각도 담당 배열에 저장\r\n                //ex) [60, 120, 180, 240, 300, 360]\r\n            }\r\n            console.log(deg);\r\n\r\n            var num = 0;\r\n\r\n            //this.$el.append(this.$refs.hiddenInput);\r\n            this.$refs.panel.appendChild(this.$refs.hiddenInput);\r\n            //   this.setNum = this.$refs.hiddenInput.value = this.rRandom();\r\n            this.modalMessage = \"\";\r\n\r\n            var ani = setInterval(() => {\r\n                //0.05초마다 실행\r\n                num++;\r\n                panel.style.transform = \"rotate(\" + 360 * num + \"deg)\";\r\n                //회전시키는 css나 vue 애니메이션같은데 아마?\r\n                btn.disabled = true;\r\n                //룰렛버튼 비활성화\r\n                btn.style.pointerEvents = \"none\";\r\n                //룰렛버튼 비활성화 2\r\n\r\n                if (num === 50) {\r\n                    //존나 돌리다보면\r\n                    clearInterval(ani);\r\n                    //룰렛 애니메이션 중지\r\n                    panel.style.transform = `rotate(${deg[this.setNum]}deg)`;\r\n                    //각도 담당 배열을 이용하여 rRandom()을 실행하여 받은 0~5에 해당하는 각도로 룰렛 고정\r\n                    //일정한 각도로 정지를 하긴하는데 잘 모르겠네..\r\n\r\n                    // console.log(this.value[this.setNum]);\r\n\r\n                    this.selectedValue = this.value[this.setNum];\r\n\r\n                    setTimeout(() => {\r\n                        this.rLayerPopup(this.setNum);\r\n                        //룰렛 실행시킨지 5.5초후 자동으로 버튼 활성화\r\n                        btn.disabled = false;\r\n                        btn.style.pointerEvents = \"auto\";\r\n                    }, 5500);\r\n                }\r\n            }, 50);\r\n            //0.05초마다 실행\r\n        },\r\n        rLayerPopup(num) {\r\n            const prizes = [100, 500, 1000, 500, 3000, 5000];\r\n            //주기로한 포인트 배열 value랑 같음 굳이 또 선언해야하나?\r\n\r\n            this.modalMessage = prizes[num];\r\n            //모달 메세지에 rRandom()을 실행하여 받은 0~5 에 해당하는 값을 보여줌\r\n            // var modal = this.$refs.resultModal;\r\n            // modal.style.display = \"block\";\r\n            this.showModal = true;\r\n            //모달 css\r\n        },\r\n\r\n        hideModal() {\r\n            // var modal = this.$refs.resultModal;\r\n            // modal.style.display = \"none\";\r\n            this.showModal = false;\r\n        },\r\n        checkAtt(index) {\r\n            // 유저가 출석한 날짜를 받아와서 출석한 날짜는 true 안한 날짜는 false로 return\r\n            return this.userAtt.includes(index);\r\n        },\r\n        testDate() {\r\n            const thisYear = new Date().getFullYear(); //연도\r\n            const thisMonth = new Date().getMonth(); //달\r\n            const thisFirstDay = new Date(thisYear, thisMonth, 1); //ex) 2023/8/1\r\n            const firstDayDate = thisFirstDay.getDay(); //요일구하기 0=일요일 1=월요일...\r\n\r\n            return (this.startDay = firstDayDate); //적용\r\n        },\r\n        getMonth() {\r\n            //달에 알맞은 일자 출력하게 하는 함수\r\n            //new Date 객체 생성하고 getMonth() 쓰는게 더 간단함\r\n            const checkMonth = new Date().toISOString().slice(5, 7); //2023-\"01\"-01 //무슨 달인지 추출\r\n            if (\r\n                checkMonth == \"01\" ||\r\n                checkMonth == \"03\" ||\r\n                checkMonth == \"05\" ||\r\n                checkMonth == \"07\" ||\r\n                checkMonth == \"08\" ||\r\n                checkMonth == \"10\" ||\r\n                checkMonth == \"12\"\r\n            ) {\r\n                this.month = 31; //31일인 달\r\n            } else if (checkMonth == \"02\") {\r\n                this.month = 28; //2월은 28일\r\n            } else {\r\n                this.month = 30; //나머지는 30일\r\n            }\r\n        },\r\n        getCan() {\r\n            this.calendar.length = 35; //달력 느낌나게 배열 길이 설정\r\n            this.month = 28;\r\n            if (this.startDay > 4) {\r\n                //요일이 수요일 이상이면 넘어가니까 길이 더 길게 설정\r\n                this.calendar.length = 42;\r\n            }\r\n            var daynum = 1; //요일 일자 나오게 설정\r\n            for (var i = this.startDay; i <= this.month - 1 + this.startDay; i++) {\r\n                this.calendar[i] = daynum;\r\n                daynum++;\r\n            }\r\n            console.log(this.calendar);\r\n        },\r\n        getUserAtt() {\r\n            if (!this.userEmail) {\r\n                return;\r\n            }\r\n\r\n            axios({\r\n                url: `http://localhost:3000/att`,\r\n                method: \"GET\",\r\n                params: { email: this.userEmail },\r\n            }).then((res) => {\r\n                if (res.data == \"출석체크 기록이 없습니다.\") {\r\n                    this.userAtt = [];\r\n                } else {\r\n                    this.userAtt = res.data;\r\n                }\r\n            });\r\n        },\r\n        attendance() {\r\n            const today1 = new Date().getDate();\r\n\r\n            if (!localStorage.getItem(\"userID\")) {\r\n                alert(\"로그인해주세요\");\r\n                return;\r\n            }\r\n\r\n            if (this.userAtt.includes(today1)) {\r\n                //버튼 연속으로 누르면 거부하는 조건문\r\n                alert(\"이미 출석하셨습니다.\");\r\n                return;\r\n            }\r\n            axios({\r\n                url: \"/att/attendance\",\r\n                method: \"POST\",\r\n                data: {\r\n                    email: this.userEmail,\r\n                    date: today1,\r\n                },\r\n            })\r\n                .then((res) => {\r\n                    alert(\"출석체크 성공!\");\r\n                    this.getUserAtt();\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.moonroul {\r\n    width: 100%;\r\n    position: relative;\r\n    left: 0;\r\n}\r\n\r\n.luckyroul {\r\n    width: 100%;\r\n\r\n    border: 1px solid #000;\r\n\r\n    background-size: cover; /* 이미지 크기 조절 옵션 */\r\n    background-position: center;\r\n}\r\n.luckyroul > img {\r\n    width: 100%;\r\n}\r\n.roultitle {\r\n    font-size: 30px;\r\n    color: #4e4eff;\r\n    font-weight: bold;\r\n}\r\n.roultitle1 {\r\n    font-size: 20px;\r\n    margin: 15px;\r\n    margin-left: 0;\r\n}\r\n.roulspan {\r\n    display: inline-block;\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n}\r\n.roulspan1 {\r\n    display: inline-block;\r\n    margin-left: 20px;\r\n    font-size: 20px;\r\n}\r\n.roulcustom {\r\n    display: inline-block;\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n}\r\n.roulcustom1 {\r\n    display: inline-block;\r\n    margin-left: 20px;\r\n    font-size: 20px;\r\n}\r\n.importantroul {\r\n    font-size: 30px;\r\n    font-weight: bold;\r\n}\r\n.roulguide {\r\n    font-size: 20px;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}