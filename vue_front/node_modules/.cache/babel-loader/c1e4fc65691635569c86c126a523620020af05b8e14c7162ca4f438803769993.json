{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, vModelSelect as _vModelSelect, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"mypage_menu\"\n};\nconst _hoisted_2 = {\n  class: \"right_box\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"mypage_title_big\"\n}, \"전체 주문내역\", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"filter-container\"\n};\nconst _hoisted_5 = {\n  class: \"date-filter\"\n};\nconst _hoisted_6 = {\n  class: \"order-search\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", null, \"주문 검색:\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"status-filter\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", null, \"배송 상태별 조회:\", -1 /* HOISTED */);\nconst _hoisted_10 = /*#__PURE__*/_createStaticVNode(\"<option value=\\\"전체\\\">전체</option><option value=\\\"배송준비\\\">배송준비</option><option value=\\\"배송중\\\">배송중</option><option value=\\\"배송완료\\\">배송완료</option><option value=\\\"주문취소\\\">주문취소</option>\", 5);\nconst _hoisted_15 = [_hoisted_10];\nconst _hoisted_16 = {\n  class: \"order-list\"\n};\nconst _hoisted_17 = {\n  class: \"order_status\"\n};\nconst _hoisted_18 = {\n  class: \"book-cover\"\n};\nconst _hoisted_19 = [\"src\"];\nconst _hoisted_20 = {\n  class: \"book-info\"\n};\nconst _hoisted_21 = {\n  key: 0\n};\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"order_cnt_out\"\n}, \"외\", -1 /* HOISTED */);\nconst _hoisted_23 = /*#__PURE__*/_createElementVNode(\"p\", null, \"주문 상세\", -1 /* HOISTED */);\nconst _hoisted_24 = {\n  key: 0,\n  class: \"confirm-button\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_GnbBar = _resolveComponent(\"GnbBar\");\n  const _component_myPage_top = _resolveComponent(\"myPage_top\");\n  const _component_myPageSide = _resolveComponent(\"myPageSide\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_GnbBar), _createVNode(_component_myPage_top), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_myPageSide)]), _createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.startDate = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.startDate]]), _createTextVNode(\" ~ \"), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.endDate = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.endDate]]), _createElementVNode(\"button\", {\n    class: \"orderinfo_btn\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.fetchFilteredOrders && $options.fetchFilteredOrders(...args))\n  }, \"검색\")]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    class: \"mypage_book_search\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.orderKeyword = $event),\n    placeholder: \"책 이름 검색\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.orderKeyword]]), _createElementVNode(\"button\", {\n    class: \"orderinfo_btn\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.searchOrders && $options.searchOrders(...args))\n  }, \"검색\")]), _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.selectedStatus = $event)\n  }, _hoisted_15, 512 /* NEED_PATCH */), [[_vModelSelect, $data.selectedStatus]]), _createElementVNode(\"button\", {\n    class: \"orderinfo_btn\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.fetchOrdersByStatus && $options.fetchOrdersByStatus(...args))\n  }, \"조회\")])]), _createElementVNode(\"div\", _hoisted_16, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.orderList, order => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: order.ORDER_ID,\n      class: \"order-box\"\n    }, [_createCommentVNode(\" 왼쪽에 배송 상태 및 결제일 \"), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", null, _toDisplayString(order.ORDER_STATE), 1 /* TEXT */), _createElementVNode(\"div\", null, _toDisplayString(order.ORDER_PAYDATE), 1 /* TEXT */)]), _createCommentVNode(\" 왼쪽에 책 표지 \"), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"img\", {\n      src: order.items[0].BOOK_COVER,\n      alt: \"Book Cover\"\n    }, null, 8 /* PROPS */, _hoisted_19)]), _createCommentVNode(\" 오른쪽에 책 정보 \"), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"p\", null, [_createTextVNode(_toDisplayString(order.items[0].BOOK_TITLE) + \" \", 1 /* TEXT */), order.ORDER_CNT > 1 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_21, [_hoisted_22, _createTextVNode(\" \" + _toDisplayString(order.ORDER_CNT - 1) + \" 건\", 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"p\", null, \"가격: \" + _toDisplayString(order.ORDER_PAY), 1 /* TEXT */), _hoisted_23]), _createCommentVNode(\" 구매확정 버튼 \"), order.ORDER_STATE === '배송완료' ? (_openBlock(), _createElementBlock(\"button\", _hoisted_24, \"구매확정\")) : _createCommentVNode(\"v-if\", true)]);\n  }), 128 /* KEYED_FRAGMENT */))])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","_hoisted_10","_createVNode","_component_GnbBar","_component_myPage_top","_hoisted_1","_component_myPageSide","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","type","$data","startDate","$event","endDate","onClick","_cache","args","$options","fetchFilteredOrders","_hoisted_6","_hoisted_7","orderKeyword","placeholder","searchOrders","_hoisted_8","_hoisted_9","selectedStatus","fetchOrdersByStatus","_hoisted_16","_createElementBlock","_Fragment","_renderList","orderList","order","key","ORDER_ID","_createCommentVNode","_hoisted_17","_toDisplayString","ORDER_STATE","ORDER_PAYDATE","_hoisted_18","src","items","BOOK_COVER","alt","_hoisted_20","BOOK_TITLE","ORDER_CNT","_hoisted_21","_hoisted_22","ORDER_PAY","_hoisted_23","_hoisted_24"],"sources":["C:\\Users\\Lim\\Desktop\\BOOK_0728\\MOONMOON\\vue_front\\src\\views\\mypage.vue"],"sourcesContent":["<template>\r\n    <GnbBar />\r\n    <myPage_top />\r\n    <div class=\"mypage_menu\">\r\n        <myPageSide />\r\n    </div>\r\n    <div class=\"right_box\">\r\n        <h1 class=\"mypage_title_big\">전체 주문내역</h1>\r\n        <div class=\"filter-container\">\r\n            <div class=\"date-filter\">\r\n                <input type=\"date\" v-model=\"startDate\" />\r\n                ~\r\n                <input type=\"date\" v-model=\"endDate\" />\r\n                <button class=\"orderinfo_btn\" @click=\"fetchFilteredOrders\">검색</button>\r\n            </div>\r\n\r\n            <div class=\"order-search\">\r\n                <label>주문 검색:</label>\r\n                <input class=\"mypage_book_search\" type=\"text\" v-model=\"orderKeyword\" placeholder=\"책 이름 검색\" />\r\n                <button class=\"orderinfo_btn\" @click=\"searchOrders\">검색</button>\r\n            </div>\r\n\r\n            <div class=\"status-filter\">\r\n                <label>배송 상태별 조회:</label>\r\n                <select v-model=\"selectedStatus\">\r\n                    <option value=\"전체\">전체</option>\r\n                    <option value=\"배송준비\">배송준비</option>\r\n                    <option value=\"배송중\">배송중</option>\r\n                    <option value=\"배송완료\">배송완료</option>\r\n                    <option value=\"주문취소\">주문취소</option>\r\n                </select>\r\n                <button class=\"orderinfo_btn\" @click=\"fetchOrdersByStatus\">조회</button>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"order-list\">\r\n            <div v-for=\"order in orderList\" :key=\"order.ORDER_ID\" class=\"order-box\">\r\n                <!-- 왼쪽에 배송 상태 및 결제일 -->\r\n                <div class=\"order_status\">\r\n                    <div>{{ order.ORDER_STATE }}</div>\r\n                    <div>{{ order.ORDER_PAYDATE }}</div>\r\n                </div>\r\n\r\n                <!-- 왼쪽에 책 표지 -->\r\n                <div class=\"book-cover\">\r\n                    <img :src=\"order.items[0].BOOK_COVER\" alt=\"Book Cover\" />\r\n                </div>\r\n\r\n                <!-- 오른쪽에 책 정보 -->\r\n                <div class=\"book-info\">\r\n                    <p>\r\n                        {{ order.items[0].BOOK_TITLE }}\r\n                        <span v-if=\"order.ORDER_CNT > 1\"><span class=\"order_cnt_out\">외</span> {{ order.ORDER_CNT - 1 }} 건</span>\r\n                    </p>\r\n                    <p>가격: {{ order.ORDER_PAY }}</p>\r\n                    <p>주문 상세</p>\r\n                </div>\r\n\r\n                <!-- 구매확정 버튼 -->\r\n                <button v-if=\"order.ORDER_STATE === '배송완료'\" class=\"confirm-button\">구매확정</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport \"@/assets/css/myPage.css\";\r\nimport GnbBar from \"../components/gnbBar.vue\";\r\nimport myPage_top from \"../components/myPage_top.vue\";\r\nimport myPageSide from \"../components/myPageSide.vue\";\r\n\r\nexport default {\r\n    name: \"\",\r\n    components: { GnbBar, myPage_top, myPageSide },\r\n    data() {\r\n        return {\r\n            startDate: null,\r\n            endDate: null,\r\n            orderKeyword: \"\",\r\n            selectedStatus: \"전체\",\r\n            orderList: [],\r\n        };\r\n    },\r\n    created() {\r\n        this.email = localStorage.getItem(\"userID\");\r\n    },\r\n    mounted() {\r\n        this.orderHistory();\r\n    },\r\n    methods: {\r\n        fetchFilteredOrders() {\r\n            // 선택한 날짜 범위로 주문 목록을 가져오는 로직\r\n            // axios.get(...)를 사용하여 API 호출\r\n        },\r\n        searchOrders() {\r\n            // 주문 검색 로직\r\n            // axios.get(...)를 사용하여 API 호출\r\n        },\r\n        fetchOrdersByStatus() {\r\n            // 선택한 배송 상태별로 주문 목록을 가져오는 로직\r\n            // axios.get(...)를 사용하여 API 호출\r\n        },\r\n        // 주문 목록을 표시하는 코드 및 API 호출 메서드 추가\r\n        orderHistory() {\r\n            axios({\r\n                url: \"http://localhost:3000/mypage/orderHistory\",\r\n                method: \"get\",\r\n                params: {\r\n                    userEmail: this.email,\r\n                },\r\n            })\r\n                .then((response) => {\r\n                    console.log(response.data); // 가져온 데이터 확인\r\n                    this.orderList = response.data; // 수정된 부분\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"주문내역 가져오기 오류:\", error);\r\n                });\r\n        },\r\n    },\r\n};\r\n</script>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}