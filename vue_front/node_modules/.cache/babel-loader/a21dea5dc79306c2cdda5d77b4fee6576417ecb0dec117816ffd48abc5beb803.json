{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-0984ac03\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"attendance\"\n};\nconst _hoisted_2 = {\n  class: \"bar_wrap\"\n};\nconst _hoisted_3 = {\n  class: \"name\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"bar\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"width\": \"13%\"\n  }\n})], -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"head\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_6 = {\n  class: \"stamp\"\n};\nconst _hoisted_7 = {\n  class: \"stamp-item\"\n};\nconst _hoisted_8 = {\n  key: 0\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: \"https://contents.kyobobook.co.kr/resources/fo/images/common/ink/img_attendance_active@2x.png\",\n  alt: \"출석완료\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_10 = [_hoisted_9];\nconst _hoisted_11 = {\n  key: 1\n};\nconst _hoisted_12 = {\n  class: \"attendance_button\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"benefit\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"benefit_text1\"\n}, \"-출석체크 혜택-\"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"benefit_text2\"\n}, \"출석 할 때 마다 100포인트씩 드려요\")], -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_gnbbar = _resolveComponent(\"gnbbar\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_gnbbar), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"p\", _hoisted_3, _toDisplayString($data.realMonth) + \"월의 출석\", 1 /* TEXT */), _hoisted_4]), _createCommentVNode(\" 상단 문구 \"), _hoisted_5, _createCommentVNode(\" 출석 도장 영역 \"), _createElementVNode(\"ol\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.month, index => {\n    return _openBlock(), _createElementBlock(\"li\", null, [_createElementVNode(\"div\", _hoisted_7, [$options.checkAtt(index) ? (_openBlock(), _createElementBlock(\"span\", _hoisted_8, _hoisted_10)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_11, _toDisplayString(index), 1 /* TEXT */))])]);\n  }), 256 /* UNKEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.attendance && $options.attendance(...args))\n  }, \"출석체크\")]), _createCommentVNode(\" 비로그인인 경우 \")]), _hoisted_13], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","style","src","alt","_hoisted_9","_createVNode","_component_gnbbar","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","$data","realMonth","_hoisted_4","_createCommentVNode","_hoisted_5","_hoisted_6","_createElementBlock","_Fragment","_renderList","month","index","_hoisted_7","$options","checkAtt","_hoisted_8","_hoisted_10","_hoisted_11","_hoisted_12","onClick","_cache","args","attendance","_hoisted_13"],"sources":["C:\\Users\\Lim\\Desktop\\BOOK_0728\\MOONMOON\\vue_front\\src\\views\\attendance.vue"],"sourcesContent":["<template>\r\n  <gnbbar />\r\n  <div class=\"attendance\">\r\n    <div class=\"bar_wrap\">\r\n      <p class=\"name\">{{ realMonth }}월의 출석</p>\r\n      <div class=\"bar\">\r\n        <div style=\"width: 13%\"></div>\r\n      </div>\r\n    </div>\r\n    <!-- 상단 문구 -->\r\n    <div class=\"head\"></div>\r\n\r\n    <!-- 출석 도장 영역 -->\r\n    <ol class=\"stamp\">\r\n      <li v-for=\"index in month\">\r\n        <div class=\"stamp-item\">\r\n          <span v-if=\"checkAtt(index)\"\r\n            ><img\r\n              src=\"https://contents.kyobobook.co.kr/resources/fo/images/common/ink/img_attendance_active@2x.png\"\r\n              alt=\"출석완료\"\r\n          /></span>\r\n          <span v-else>{{ index }}</span>\r\n        </div>\r\n      </li>\r\n    </ol>\r\n    <div class=\"attendance_button\">\r\n      <button @click=\"attendance\">출석체크</button>\r\n    </div>\r\n    <!-- 비로그인인 경우 -->\r\n  </div>\r\n  <div class=\"benefit\">\r\n    <div class=\"benefit_text1\">-출석체크 혜택-</div>\r\n    <br />\r\n    <div class=\"benefit_text2\">출석 할 때 마다 100포인트씩 드려요</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\naxios.defaults.baseURL = \"http://localhost:3000\";\r\naxios.defaults.headers.post[\"Content-Type\"] = \"application/json;charset=utf-8\";\r\naxios.defaults.headers.post[\"Access-Control-Allow-Origin\"] = \"*\";\r\nimport gnbbar from \"../components/gnbBar.vue\";\r\nexport default {\r\n  components: {\r\n    gnbbar,\r\n  },\r\n  data() {\r\n    return {\r\n      userAtt: [], //출석체크 데이터\r\n      today: null, //오늘의 날짜 데이터\r\n      month: null, //30일인지 31일인지 확인\r\n      realMonth: new Date().getMonth() + 1,\r\n      userEmail: localStorage.getItem(\"userID\"),\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getMonth();\r\n    this.getUserAtt();\r\n  },\r\n  methods: {\r\n    checkAtt(index) {\r\n      // 유저가 출석한 날짜를 받아와서 출석한 날짜는 true 안한 날짜는 false로 return\r\n      return this.userAtt.includes(index);\r\n    },\r\n    getMonth() {\r\n      //달에 알맞은 일자 출력하게 하는 함수\r\n      //new Date 객체 생성하고 getMonth() 쓰는게 더 간단함\r\n      const checkMonth = new Date().toISOString().slice(5, 7); //2023-\"01\"-01 //무슨 달인지 추출\r\n      if (\r\n        checkMonth == \"01\" ||\r\n        checkMonth == \"03\" ||\r\n        checkMonth == \"05\" ||\r\n        checkMonth == \"07\" ||\r\n        checkMonth == \"08\" ||\r\n        checkMonth == \"10\" ||\r\n        checkMonth == \"12\"\r\n      ) {\r\n        this.month = 31; //31일인 달\r\n      } else if (checkMonth == \"02\") {\r\n        this.month = 28; //2월은 28일\r\n      } else {\r\n        this.month = 30; //나머지는 30일\r\n      }\r\n    },\r\n    getUserAtt() {\r\n      axios({\r\n        url: `http://localhost:3000/att`,\r\n        method: \"GET\",\r\n        params: { email: this.userEmail },\r\n      }).then((res) => {\r\n        if (res.data == \"출석체크 기록이 없습니다.\") {\r\n          this.userAtt = [];\r\n        } else {\r\n          this.userAtt = res.data;\r\n        }\r\n      });\r\n    },\r\n    attendance() {\r\n      const today1 = new Date().getDate();\r\n\r\n      if (!localStorage.getItem(\"userID\")) {\r\n        alert(\"로그인해주세요\");\r\n        return;\r\n      }\r\n\r\n      if (this.userAtt.includes(today1)) {\r\n        //버튼 연속으로 누르면 거부하는 조건문\r\n        alert(\"이미 출석하셨습니다.\");\r\n        return;\r\n      }\r\n      axios({\r\n        url: \"/att/attendance\",\r\n        method: \"POST\",\r\n        data: {\r\n          email: this.userEmail,\r\n          date: today1,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          alert(\"출석체크 성공!\");\r\n          this.getUserAtt();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.attendance_button {\r\n  text-align: center;\r\n}\r\n.attendance_button button {\r\n  box-sizing: border-box;\r\n  width: 300px;\r\n  padding: 15px 20px;\r\n  border-radius: 20px;\r\n  background-color: #4e4eff;\r\n  box-shadow: 0 6px 6px rgba(29, 29, 104, 0.2);\r\n  margin-top: 5%;\r\n  color: #fff;\r\n  font-size: large;\r\n  border: none;\r\n}\r\n.attendance .bar_wrap .name {\r\n  font-size: 20px;\r\n  line-height: 30px;\r\n  letter-spacing: -0.01em;\r\n  color: #fff;\r\n}\r\np {\r\n  display: block;\r\n  margin-block-start: 1em;\r\n  margin-block-end: 1em;\r\n  margin-inline-start: 0px;\r\n  margin-inline-end: 0px;\r\n}\r\n.attendance .bar_wrap {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: -50px;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  display: -webkit-flex;\r\n  -webkit-box-pack: center;\r\n  -ms-flex-pack: center;\r\n  justify-content: center;\r\n  -webkit-justify-content: center;\r\n  -webkit-box-align: center;\r\n  -moz-box-align: center;\r\n  -ms-flex-align: center;\r\n  -webkit-align-items: center;\r\n  align-items: center;\r\n  -webkit-box-orient: horizontal;\r\n  -webkit-box-direction: normal;\r\n  -moz-box-orient: horizontal;\r\n  -moz-box-direction: normal;\r\n  -ms-flex-direction: row;\r\n  -webkit-flex-direction: row;\r\n  flex-direction: row;\r\n  transform: translateX(-50%);\r\n  box-sizing: border-box;\r\n  width: 500px;\r\n  padding: 15px 20px;\r\n  border-radius: 20px;\r\n  background-color: #4e4eff;\r\n  box-shadow: 0 6px 6px rgba(29, 29, 104, 0.2);\r\n}\r\n.attendance {\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  width: 920px;\r\n  margin: auto;\r\n  margin-top: 5%;\r\n  margin-bottom: 5%;\r\n  padding: 92px 128px 90px;\r\n  border-radius: 30px;\r\n  background-color: #fff;\r\n  box-shadow: 0 20px 80px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.stamp {\r\n  display: flex;\r\n  flex-wrap: wrap; /* 공간이 부족하면 다음 줄로 이동 */\r\n  justify-content: flex-start; /* 왼쪽 정렬 */\r\n  align-items: flex-start; /* 위쪽 정렬 */\r\n  list-style: none; /* 기본 목록 스타일 제거 */\r\n  padding: 0; /* 기본 padding 제거 */\r\n  margin: 0; /* 기본 margin 제거 */\r\n}\r\n\r\n.stamp li {\r\n  /* 각 li 요소의 크기와 스타일 조정 */\r\n  width: 18%; /* 5개의 항목이 한 줄에 표시되므로 가로 너비는 20% */\r\n  height: 100px;\r\n  box-sizing: border-box;\r\n  margin: 5px;\r\n  padding: 5px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.stamp-item {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n}\r\n\r\n.stamp-item img {\r\n  max-width: 80%; /* 이미지가 자동으로 축소되도록 함 */\r\n  max-height: 80%; /* 이미지가 자동으로 축소되도록 함 */\r\n  margin: auto;\r\n  display: block;\r\n}\r\n.benefit {\r\n  position: relative;\r\n  margin-left: 10%;\r\n  margin-bottom: 100px;\r\n  border: none;\r\n  width: 80%;\r\n\r\n  height: 200px;\r\n  text-align: center;\r\n}\r\n.benefit_text1 {\r\n  font-size: larger;\r\n  font-weight: bolder;\r\n}\r\n.benefit_text2 {\r\n  margin-top: 3%;\r\n  font-size: larger;\r\n  font-weight: bolder;\r\n}\r\n</style>\r\n"],"mappings":";;;EAEOA,KAAK,EAAC;AAAY;;EAChBA,KAAK,EAAC;AAAU;;EAChBA,KAAK,EAAC;AAAM;gEACfC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAK,I,aACdC,mBAAA,CAA8B;EAAzBC,KAAkB,EAAlB;IAAA;EAAA;AAAkB,G;gEAI3BD,mBAAA,CAAwB;EAAnBD,KAAK,EAAC;AAAM;;EAGbA,KAAK,EAAC;AAAO;;EAERA,KAAK,EAAC;AAAY;;;;gEAElBC,mBAAA,CAGD;EAFEE,GAAG,EAAC,8FAA8F;EAClGC,GAAG,EAAC;;qBAFLC,UAGD,C;;;;;EAKHL,KAAK,EAAC;AAAmB;iEAKhCC,mBAAA,CAIM;EAJDD,KAAK,EAAC;AAAS,I,aAClBC,mBAAA,CAA0C;EAArCD,KAAK,EAAC;AAAe,GAAC,WAAS,G,aACpCC,mBAAA,CAAM,O,aACNA,mBAAA,CAAsD;EAAjDD,KAAK,EAAC;AAAe,GAAC,uBAAqB,E;;;;6DAhClDM,YAAA,CAAUC,iBAAA,GACVN,mBAAA,CA2BM,OA3BNO,UA2BM,GA1BJP,mBAAA,CAKM,OALNQ,UAKM,GAJJR,mBAAA,CAAwC,KAAxCS,UAAwC,EAAAC,gBAAA,CAArBC,KAAA,CAAAC,SAAS,IAAG,OAAK,iBACpCC,UAEM,C,GAERC,mBAAA,WAAc,EACdC,UAAwB,EAExBD,mBAAA,cAAiB,EACjBd,mBAAA,CAWK,MAXLgB,UAWK,I,kBAVHC,mBAAA,CASKC,SAAA,QAAAC,WAAA,CATeR,KAAA,CAAAS,KAAK,EAAdC,KAAK;yBAAhBJ,mBAAA,CASK,aARHjB,mBAAA,CAOM,OAPNsB,UAOM,GANQC,QAAA,CAAAC,QAAQ,CAACH,KAAK,K,cAA1BJ,mBAAA,CAIS,QAAAQ,UAAA,EAAAC,WAAA,M,cACTT,mBAAA,CAA+B,QAAAU,WAAA,EAAAjB,gBAAA,CAAfW,KAAK,kB;sCAI3BrB,mBAAA,CAEM,OAFN4B,WAEM,GADJ5B,mBAAA,CAAyC;IAAhC6B,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAER,QAAA,CAAAS,UAAA,IAAAT,QAAA,CAAAS,UAAA,IAAAD,IAAA,CAAU;KAAE,MAAI,E,GAElCjB,mBAAA,cAAiB,C,GAEnBmB,WAIM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}