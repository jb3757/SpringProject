{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withCtx as _withCtx, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-e5dcfde6\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"mypage_menu\"\n};\nconst _hoisted_2 = {\n  class: \"right_box\"\n};\nconst _hoisted_3 = {\n  class: \"tabWrap\"\n};\nconst _hoisted_4 = {\n  class: \"info-item book-cover\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"info-title\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_6 = [\"src\"];\nconst _hoisted_7 = {\n  class: \"info-item1\"\n};\nconst _hoisted_8 = {\n  class: \"info-title\"\n};\nconst _hoisted_9 = {\n  class: \"info-title.book-title\"\n};\nconst _hoisted_10 = {\n  class: \"info-title.book-author\"\n};\nconst _hoisted_11 = {\n  class: \"info-item2\"\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"/detail\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"review-button\"\n}, \"리뷰 쓰기\")], -1 /* HOISTED */));\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"info-title.deadline\"\n}, \"작성기한\", -1 /* HOISTED */));\nconst _hoisted_14 = {\n  class: \"info-content.deadline\"\n};\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"info-title.point\"\n}, \"포인트\", -1 /* HOISTED */));\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"info-content.point\"\n}, \"300P\", -1 /* HOISTED */));\nconst _hoisted_17 = {\n  class: \"pagination\"\n};\nconst _hoisted_18 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_myPage_top = _resolveComponent(\"myPage_top\");\n  const _component_myPageSide = _resolveComponent(\"myPageSide\");\n  const _component_TabItem = _resolveComponent(\"TabItem\");\n  const _component_TabsWrapper = _resolveComponent(\"TabsWrapper\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_myPage_top), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_myPageSide)]), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"section\", _hoisted_3, [_createVNode(_component_TabsWrapper, null, {\n    default: _withCtx(() => [_createVNode(_component_TabItem, {\n      title: \"작성가능한 리뷰\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.reviewList, (review, index) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: index,\n          class: \"review-info\"\n        }, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"img\", {\n          src: review.book_cover,\n          alt: \"북커버 이미지\",\n          class: \"info-content\"\n        }, null, 8 /* PROPS */, _hoisted_6)]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, \"구매확정일 : \" + _toDisplayString($options.formattedDate(review.ORDERITEM_CONFIRMED_AT)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_9, _toDisplayString(review.book_title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_10, _toDisplayString(review.book_author), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _hoisted_13, _createElementVNode(\"div\", _hoisted_14, _toDisplayString($options.calculateDeadline(review.ORDERITEM_CONFIRMED_AT)), 1 /* TEXT */), _hoisted_15, _hoisted_16])]);\n      }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_17, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.totalPages, pageNumber => {\n        return _openBlock(), _createElementBlock(\"button\", {\n          key: pageNumber,\n          onClick: $event => _ctx.changePage(pageNumber)\n        }, _toDisplayString(pageNumber), 9 /* TEXT, PROPS */, _hoisted_18);\n      }), 128 /* KEYED_FRAGMENT */))])]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_TabItem, {\n      title: \"작성한 리뷰\"\n    }, {\n      default: _withCtx(() => [_createCommentVNode(\" 여기에 작성한 리뷰 내용 추가 \")]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  })])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","href","_createVNode","_component_myPage_top","_hoisted_1","_component_myPageSide","_hoisted_2","_hoisted_3","_component_TabsWrapper","_component_TabItem","title","_createElementBlock","_Fragment","_renderList","$data","reviewList","review","index","key","_hoisted_4","_hoisted_5","src","book_cover","alt","_hoisted_7","_hoisted_8","_toDisplayString","$options","formattedDate","ORDERITEM_CONFIRMED_AT","_hoisted_9","book_title","_hoisted_10","book_author","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","calculateDeadline","_hoisted_15","_hoisted_16","_hoisted_17","totalPages","pageNumber","onClick","$event","_ctx","changePage","_hoisted_18","_createCommentVNode"],"sources":["C:\\Users\\Lim\\Desktop\\BOOK_0728\\MOONMOON\\vue_front\\src\\views\\mypageReview.vue"],"sourcesContent":["<template>\r\n    <myPage_top />\r\n    <div class=\"mypage_menu\">\r\n        <myPageSide />\r\n    </div>\r\n\r\n    <div class=\"right_box\">\r\n        <section class=\"tabWrap\">\r\n            <TabsWrapper>\r\n                <TabItem title=\"작성가능한 리뷰\">\r\n                    <div>\r\n                        <div v-for=\"(review, index) in reviewList\" :key=\"index\" class=\"review-info\">\r\n                            <div class=\"info-item book-cover\">\r\n                                <div class=\"info-title\"></div>\r\n                                <img :src=\"review.book_cover\" alt=\"북커버 이미지\" class=\"info-content\" />\r\n                            </div>\r\n                            <div class=\"info-item1\">\r\n                                <div class=\"info-title\">구매확정일 : {{ formattedDate(review.ORDERITEM_CONFIRMED_AT) }}</div>\r\n\r\n                                <div class=\"info-title.book-title\">{{ review.book_title }}</div>\r\n\r\n                                <div class=\"info-title.book-author\">{{ review.book_author }}</div>\r\n                            </div>\r\n\r\n                            <div class=\"info-item2\">\r\n                                <a href=\"/detail\"><button class=\"review-button\">리뷰 쓰기</button></a>\r\n                                <div class=\"info-title.deadline\">작성기한</div>\r\n                                <div class=\"info-content.deadline\">{{ calculateDeadline(review.ORDERITEM_CONFIRMED_AT) }}</div>\r\n                                <div class=\"info-title.point\">포인트</div>\r\n                                <div class=\"info-content.point\">300P</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"pagination\">\r\n                        <button v-for=\"pageNumber in totalPages\" :key=\"pageNumber\" @click=\"changePage(pageNumber)\">\r\n                            {{ pageNumber }}\r\n                        </button>\r\n                    </div>\r\n                </TabItem>\r\n                <TabItem title=\"작성한 리뷰\">\r\n                    <!-- 여기에 작성한 리뷰 내용 추가 -->\r\n                </TabItem>\r\n            </TabsWrapper>\r\n        </section>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport myPageSide from \"../components/myPageSide.vue\";\r\nimport myPage_top from \"../components/myPage_top.vue\";\r\nimport TabsWrapper from \"../components/TabsWrapper.vue\";\r\nimport TabItem from \"../components/TabItem.vue\";\r\n\r\n// Format the date in YY-MM-DD format\r\nconst formattedDate = (date) => {\r\n    const year = date.getFullYear().toString().substr(-2);\r\n    const month = (date.getMonth() + 1).toString().padStart(2, \"0\");\r\n    const day = date.getDate().toString().padStart(2, \"0\");\r\n    return `${year}-${month}-${day}`;\r\n};\r\n\r\nexport default {\r\n    components: { myPageSide, myPage_top, TabsWrapper, TabItem },\r\n    data() {\r\n        return {\r\n            reviewList: [],\r\n            book_cover: \"\",\r\n            orderitem_confirmed_At: \"\",\r\n            book_title: \"\",\r\n            book_author: \"\",\r\n            point: \"300P\",\r\n            currentPage: 1,\r\n            itemsPerPage: 10,\r\n        };\r\n    },\r\n    async mounted() {\r\n        try {\r\n            const email = localStorage.getItem(\"userID\");\r\n            const response = await axios.get(`mypage/notYetReview/${email}`);\r\n            this.reviewList = response.data; // API에서 받아온 모든 데이터를 reviewList에 할당\r\n\r\n            console.log(this.reviewList);\r\n\r\n            if (this.reviewList.length > 0) {\r\n                const data = this.reviewList[0]; // 첫 번째 데이터를 가져와서 사용\r\n                this.book_cover = data.book_cover;\r\n                this.book_title = data.book_title;\r\n                this.book_author = data.book_author;\r\n\r\n                const orderConfirmedDate = new Date(data.ORDERITEM_CONFIRMED_AT);\r\n                this.orderitem_confirmed_At = formattedDate(orderConfirmedDate);\r\n                this.deadline = formattedDate(new Date(orderConfirmedDate.getTime() + 30 * 24 * 60 * 60 * 1000));\r\n\r\n                console.log(\"구매확정일:\", this.orderitem_confirmed_At);\r\n                console.log(\"작성기한:\", this.deadline);\r\n            } else {\r\n                console.log(\"No data found in the response.\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching data:\", error);\r\n        }\r\n    },\r\n    computed: {\r\n        totalPages() {\r\n            return Math.ceil(this.reviewList.length / this.itemsPerPage);\r\n        },\r\n        displayedReviews() {\r\n            const startIndex = (this.currentPage - 1) * this.itemsPerPage;\r\n            const endIndex = startIndex + this.itemsPerPage;\r\n            return this.reviewList.slice(startIndex, endIndex);\r\n        },\r\n    },\r\n    methods: {\r\n        formattedDate(date) {\r\n            const orderConfirmedDate = new Date(date);\r\n            const year = orderConfirmedDate.getFullYear().toString().substr(-2);\r\n            const month = (orderConfirmedDate.getMonth() + 1).toString().padStart(2, \"0\");\r\n            const day = orderConfirmedDate.getDate().toString().padStart(2, \"0\");\r\n            return `${year}-${month}-${day}`;\r\n        },\r\n        calculateDeadline(confirmDate) {\r\n            const orderConfirmedDate = new Date(confirmDate);\r\n            return formattedDate(new Date(orderConfirmedDate.getTime() + 30 * 24 * 60 * 60 * 1000));\r\n        },\r\n    },\r\n    changePage(pageNumber) {\r\n        this.currentPage = pageNumber;\r\n    },\r\n};\r\n</script>\r\n<style scoped>\r\n.review-info {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 10px;\r\n    height: 200px;\r\n    border-bottom: 1px solid rgba(199, 195, 195, 0.267); /* 아래쪽에만 border 추가 */\r\n}\r\n\r\n.info-item {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    text-align: center;\r\n}\r\n\r\n.info-title {\r\n    font-weight: bold;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.info-item.book-cover {\r\n    display: flex;\r\n\r\n    justify-content: flex-start; /* 변경: 북커버 이미지를 왼쪽 정렬 */\r\n\r\n    margin-right: 20px; /* 변경: 오른쪽 간격 추가 */\r\n}\r\n\r\n.review-button {\r\n    background-color: #5552f7;\r\n    color: white;\r\n    border: none;\r\n    padding: 5px 10px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n}\r\n.pagination {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-top: 20px;\r\n}\r\n\r\n.pagination button {\r\n    margin: 0 5px;\r\n    padding: 5px 10px;\r\n    background-color: #f0f0f0;\r\n    border: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.pagination button:hover {\r\n    background-color: #ddd;\r\n}\r\n</style>\r\n"],"mappings":";;;EAESA,KAAK,EAAC;AAAa;;EAInBA,KAAK,EAAC;AAAW;;EACTA,KAAK,EAAC;AAAS;;EAKCA,KAAK,EAAC;AAAsB;gEAC7BC,mBAAA,CAA8B;EAAzBD,KAAK,EAAC;AAAY;;;EAGtBA,KAAK,EAAC;AAAY;;EACdA,KAAK,EAAC;AAAY;;EAElBA,KAAK,EAAC;AAAuB;;EAE7BA,KAAK,EAAC;AAAwB;;EAGlCA,KAAK,EAAC;AAAY;iEACnBC,mBAAA,CAAkE;EAA/DC,IAAI,EAAC;AAAS,I,aAACD,mBAAA,CAA4C;EAApCD,KAAK,EAAC;AAAe,GAAC,OAAK,E;iEACrDC,mBAAA,CAA2C;EAAtCD,KAAK,EAAC;AAAqB,GAAC,MAAI;;EAChCA,KAAK,EAAC;AAAuB;iEAClCC,mBAAA,CAAuC;EAAlCD,KAAK,EAAC;AAAkB,GAAC,KAAG;iEACjCC,mBAAA,CAA0C;EAArCD,KAAK,EAAC;AAAoB,GAAC,MAAI;;EAI3CA,KAAK,EAAC;AAAY;;;;;;;6DAhCvCG,YAAA,CAAcC,qBAAA,GACdH,mBAAA,CAEM,OAFNI,UAEM,GADFF,YAAA,CAAcG,qBAAA,E,GAGlBL,mBAAA,CAsCM,OAtCNM,UAsCM,GArCFN,mBAAA,CAoCU,WApCVO,UAoCU,GAnCNL,YAAA,CAkCcM,sBAAA;sBAjCV,MA6BU,CA7BVN,YAAA,CA6BUO,kBAAA;MA7BDC,KAAK,EAAC;IAAU;wBACrB,MAsBM,CAtBNV,mBAAA,CAsBM,e,kBArBFW,mBAAA,CAoBMC,SAAA,QAAAC,WAAA,CApByBC,KAAA,CAAAC,UAAU,GAA5BC,MAAM,EAAEC,KAAK;6BAA1BN,mBAAA,CAoBM;UApBsCO,GAAG,EAAED,KAAK;UAAElB,KAAK,EAAC;YAC1DC,mBAAA,CAGM,OAHNmB,UAGM,GAFFC,UAA8B,EAC9BpB,mBAAA,CAAmE;UAA7DqB,GAAG,EAAEL,MAAM,CAACM,UAAU;UAAEC,GAAG,EAAC,SAAS;UAACxB,KAAK,EAAC;+CAEtDC,mBAAA,CAMM,OANNwB,UAMM,GALFxB,mBAAA,CAAwF,OAAxFyB,UAAwF,EAAhE,UAAQ,GAAAC,gBAAA,CAAGC,QAAA,CAAAC,aAAa,CAACZ,MAAM,CAACa,sBAAsB,mBAE9E7B,mBAAA,CAAgE,OAAhE8B,UAAgE,EAAAJ,gBAAA,CAA1BV,MAAM,CAACe,UAAU,kBAEvD/B,mBAAA,CAAkE,OAAlEgC,WAAkE,EAAAN,gBAAA,CAA3BV,MAAM,CAACiB,WAAW,iB,GAG7DjC,mBAAA,CAMM,OANNkC,WAMM,GALFC,WAAkE,EAClEC,WAA2C,EAC3CpC,mBAAA,CAA+F,OAA/FqC,WAA+F,EAAAX,gBAAA,CAAzDC,QAAA,CAAAW,iBAAiB,CAACtB,MAAM,CAACa,sBAAsB,mBACrFU,WAAuC,EACvCC,WAA0C,C;wCAItDxC,mBAAA,CAIM,OAJNyC,WAIM,I,kBAHF9B,mBAAA,CAESC,SAAA,QAAAC,WAAA,CAFoBc,QAAA,CAAAe,UAAU,EAAxBC,UAAU;6BAAzBhC,mBAAA,CAES;UAFiCO,GAAG,EAAEyB,UAAU;UAAGC,OAAK,EAAAC,MAAA,IAAEC,IAAA,CAAAC,UAAU,CAACJ,UAAU;4BACjFA,UAAU,wBAAAK,WAAA;;;;QAIzB9C,YAAA,CAEUO,kBAAA;MAFDC,KAAK,EAAC;IAAQ;wBACnB,MAAyB,CAAzBuC,mBAAA,sBAAyB,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}