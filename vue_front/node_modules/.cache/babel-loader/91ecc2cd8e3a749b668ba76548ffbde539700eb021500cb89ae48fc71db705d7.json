{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport \"@/assets/css/qnaList.css\";\nimport GnbBar from \"../components/gnbBar.vue\";\nimport TabsWrapper from \"../components/TabsWrapper.vue\";\nimport TabItem from \"../components/TabItem.vue\";\nimport qnaAll from \"../components/qnaAll.vue\";\nimport qnaWait from \"../components/qnaWait.vue\";\nimport qnaDone from \"../components/qnaDone.vue\";\nimport myPageSide from \"@/components/myPageSide.vue\";\nimport myPage_top from \"@/components/myPage_top.vue\";\nexport default {\n  components: {\n    GnbBar,\n    TabsWrapper,\n    TabItem,\n    qnaAll,\n    qnaWait,\n    qnaDone,\n    myPage_top,\n    myPageSide\n  },\n  name: \"qnaList\",\n  data() {\n    return {\n      email: \"\",\n      qna_id: \"\",\n      editMode: false,\n      currentTagName: \"전체(11)\",\n      showQnaAllContent: [],\n      showQnaWaitContent: [],\n      showQnaDoneContent: [],\n      conOpenBotton: require(\"../assets/img/qna-open.png\"),\n      conCloseBotton: require(\"../assets/img/qna-close.png\"),\n      nodata: false,\n      qnaAllList: [],\n      qnaWaitList: [],\n      qnaDoneList: [],\n      totalQnaNum: 0\n    };\n  },\n  created() {\n    this.email = localStorage.getItem(\"userID\");\n    this.getQnaAllList();\n    this.getQnaWaitList();\n    this.getQnaDoneList();\n    this.getQnaNum();\n  },\n  async onMounted() {\n    await this.getQnaNum();\n  },\n  methods: {\n    async getQnaAllList() {\n      try {\n        const url = \"/qna/qnaAll\";\n        const data = {\n          email: this.email\n        };\n        const qnaAllList = (await axios({\n          method: \"post\",\n          url,\n          data\n        }).catch(error => {\n          console.log(error);\n        })).data;\n        if (qnaAllList.length > 0) {\n          this.qnaAllList = qnaAllList;\n        }\n        console.log(this.qnaAllList);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async getQnaWaitList() {\n      try {\n        const url = \"/qna/qnaWait\";\n        const data = {\n          email: this.email\n        };\n        const qnaWaitList = (await axios({\n          method: \"post\",\n          url,\n          data\n        }).catch(error => {\n          console.log(error);\n        })).data;\n        if (qnaWaitList.length > 0) {\n          this.qnaWaitList = qnaWaitList;\n        }\n        console.log(this.qnaWaitList);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async getQnaDoneList() {\n      try {\n        const url = \"/qna/qnaDone\";\n        const data = {\n          email: this.email\n        };\n        const qnaDoneList = (await axios({\n          method: \"post\",\n          url,\n          data\n        }).catch(error => {\n          console.log(error);\n        })).data;\n        if (qnaDoneList.length > 0) {\n          this.qnaDoneList = qnaDoneList;\n        }\n        console.log(this.qnaDoneList);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    qnaDel(qna_id) {\n      axios.post(\"/qna/qnaDel\", {\n        QNA_ID: qna_id\n      }).then(response => {\n        window.location.reload();\n      }).catch(error => {\n        console.error(\"Error deleting Q&A\", error);\n      });\n    },\n    getEditId(qna_id) {\n      this.$router.push({\n        name: \"qnaEdit\",\n        params: {\n          id: qna_id\n        }\n      });\n    },\n    async getQnaNum() {\n      try {\n        const res = await axios.post(\"/qna/getQnaNum\", {\n          email: this.email\n        });\n        console.log(res.data[0].num);\n        if (this.qnaDoneList.length > 0) {\n          // Update the totalQnaNum after getting the data\n          this.totalQnaNum = res.data[0].num;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","GnbBar","TabsWrapper","TabItem","qnaAll","qnaWait","qnaDone","myPageSide","myPage_top","components","name","data","email","qna_id","editMode","currentTagName","showQnaAllContent","showQnaWaitContent","showQnaDoneContent","conOpenBotton","require","conCloseBotton","nodata","qnaAllList","qnaWaitList","qnaDoneList","totalQnaNum","created","localStorage","getItem","getQnaAllList","getQnaWaitList","getQnaDoneList","getQnaNum","onMounted","methods","url","method","catch","error","console","log","length","qnaDel","post","QNA_ID","then","response","window","location","reload","getEditId","$router","push","params","id","res","num"],"sources":["C:\\Users\\Lim\\Desktop\\BOOK_0728\\MOONMOON\\vue_front\\src\\views\\qnaList.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <GnbBar />\r\n        <myPage_top />\r\n        <div class=\"mypage_menu\">\r\n            <myPageSide />\r\n        </div>\r\n        <div class=\"right_box\">\r\n            <h1 class=\"qna_title_big\">1:1 문의</h1>\r\n            <!-- 탭시작 -->\r\n            <section class=\"tabWrap\">\r\n                <TabsWrapper>\r\n                    <TabItem :title=\"`답변 전체 (${totalQnaNum})`\">\r\n                        <a href=\"http://localhost:8080/qnaWrite\">\r\n                            <div class=\"qna-btn\" v-if=\"!nodata\">1:1 문의하기</div>\r\n                        </a>\r\n\r\n                        <div v-if=\"qnaAllList.length === 0\">\r\n                            <div id=\"nodata\" class=\"nodata\">작성한 문의글이 없습니다</div>\r\n                        </div>\r\n                        <qnaAll\r\n                            v-if=\"!nodata && qnaAllList.length > 0\"\r\n                            :qnaAllList=\"qnaAllList\"\r\n                            :showQnaAllContent=\"showQnaAllContent\"\r\n                            :toggleContent1=\"toggleContent1\"\r\n                            :conOpenBotton=\"conOpenBotton\"\r\n                            :conCloseBotton=\"conCloseBotton\"\r\n                            :editMode=\"editMode\"\r\n                            :qnaDelFunction=\"qnaDel\"\r\n                            :getEditQnaId=\"getEditId\"\r\n                        ></qnaAll>\r\n                    </TabItem>\r\n                    <TabItem title=\"답변 대기\">\r\n                        <a href=\"http://localhost:8080/qnaWrite\">\r\n                            <div class=\"qna-btn\" v-if=\"!nodata\">1:1 문의하기</div>\r\n                        </a>\r\n\r\n                        <div class=\"qna-all\">\r\n                            <div v-if=\"qnaWaitList.length === 0\">\r\n                                <div id=\"nodata\" class=\"nodata\">답변 대기중인 문의글이 없습니다</div>\r\n                            </div>\r\n                            <qnaWait\r\n                                v-if=\"!nodata && qnaWaitList.length > 0\"\r\n                                :qnaWaitList=\"qnaWaitList\"\r\n                                :showQnaWaitContent=\"showQnaWaitContent\"\r\n                                :toggleContent2=\"toggleContent2\"\r\n                                :conOpenBotton=\"conOpenBotton\"\r\n                                :conCloseBotton=\"conCloseBotton\"\r\n                                :editMode=\"editMode\"\r\n                                :qnaDelFunction=\"qnaDel\"\r\n                            ></qnaWait>\r\n                        </div>\r\n                    </TabItem>\r\n                    <TabItem title=\"답변 완료\">\r\n                        <a href=\"http://localhost:8080/qnaWrite\">\r\n                            <div class=\"qna-btn\" v-if=\"!nodata\">1:1 문의하기</div>\r\n                        </a>\r\n\r\n                        <div class=\"qna-all\">\r\n                            <div v-if=\"qnaDoneList.length === 0\">\r\n                                <div id=\"nodata\" class=\"nodata\">답변 완료된 문의글이 없습니다</div>\r\n                            </div>\r\n                            <qnaDone\r\n                                v-if=\"!nodata && qnaDoneList.length > 0\"\r\n                                :qnaDoneList=\"qnaDoneList\"\r\n                                :showQnaDoneContent=\"showQnaDoneContent\"\r\n                                :toggleContent3=\"toggleContent3\"\r\n                                :conOpenBotton=\"conOpenBotton\"\r\n                                :conCloseBotton=\"conCloseBotton\"\r\n                                :editMode=\"editMode\"\r\n                            ></qnaDone>\r\n                        </div>\r\n                    </TabItem>\r\n                </TabsWrapper>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport \"@/assets/css/qnaList.css\";\r\n\r\nimport GnbBar from \"../components/gnbBar.vue\";\r\n\r\nimport TabsWrapper from \"../components/TabsWrapper.vue\";\r\nimport TabItem from \"../components/TabItem.vue\";\r\nimport qnaAll from \"../components/qnaAll.vue\";\r\nimport qnaWait from \"../components/qnaWait.vue\";\r\nimport qnaDone from \"../components/qnaDone.vue\";\r\nimport myPageSide from \"@/components/myPageSide.vue\";\r\nimport myPage_top from \"@/components/myPage_top.vue\";\r\n\r\nexport default {\r\n    components: {\r\n        GnbBar,\r\n        TabsWrapper,\r\n        TabItem,\r\n        qnaAll,\r\n        qnaWait,\r\n        qnaDone,\r\n        myPage_top,\r\n        myPageSide,\r\n    },\r\n    name: \"qnaList\",\r\n    data() {\r\n        return {\r\n            email: \"\",\r\n            qna_id: \"\",\r\n            editMode: false,\r\n            currentTagName: \"전체(11)\",\r\n            showQnaAllContent: [],\r\n            showQnaWaitContent: [],\r\n            showQnaDoneContent: [],\r\n            conOpenBotton: require(\"../assets/img/qna-open.png\"),\r\n            conCloseBotton: require(\"../assets/img/qna-close.png\"),\r\n            nodata: false,\r\n            qnaAllList: [],\r\n            qnaWaitList: [],\r\n            qnaDoneList: [],\r\n            totalQnaNum: 0,\r\n        };\r\n    },\r\n    created() {\r\n        this.email = localStorage.getItem(\"userID\");\r\n\r\n        this.getQnaAllList();\r\n        this.getQnaWaitList();\r\n        this.getQnaDoneList();\r\n        this.getQnaNum();\r\n    },\r\n    async onMounted() {\r\n        await this.getQnaNum();\r\n    },\r\n    methods: {\r\n        async getQnaAllList() {\r\n            try {\r\n                const url = \"/qna/qnaAll\";\r\n                const data = { email: this.email };\r\n\r\n                const qnaAllList = (\r\n                    await axios({\r\n                        method: \"post\",\r\n                        url,\r\n                        data,\r\n                    }).catch((error) => {\r\n                        console.log(error);\r\n                    })\r\n                ).data;\r\n\r\n                if (qnaAllList.length > 0) {\r\n                    this.qnaAllList = qnaAllList;\r\n                }\r\n                console.log(this.qnaAllList);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n        async getQnaWaitList() {\r\n            try {\r\n                const url = \"/qna/qnaWait\";\r\n                const data = { email: this.email };\r\n\r\n                const qnaWaitList = (\r\n                    await axios({\r\n                        method: \"post\",\r\n                        url,\r\n                        data,\r\n                    }).catch((error) => {\r\n                        console.log(error);\r\n                    })\r\n                ).data;\r\n\r\n                if (qnaWaitList.length > 0) {\r\n                    this.qnaWaitList = qnaWaitList;\r\n                }\r\n                console.log(this.qnaWaitList);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n        async getQnaDoneList() {\r\n            try {\r\n                const url = \"/qna/qnaDone\";\r\n                const data = { email: this.email };\r\n\r\n                const qnaDoneList = (\r\n                    await axios({\r\n                        method: \"post\",\r\n                        url,\r\n                        data,\r\n                    }).catch((error) => {\r\n                        console.log(error);\r\n                    })\r\n                ).data;\r\n\r\n                if (qnaDoneList.length > 0) {\r\n                    this.qnaDoneList = qnaDoneList;\r\n                }\r\n                console.log(this.qnaDoneList);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n        qnaDel(qna_id) {\r\n            axios\r\n                .post(\"/qna/qnaDel\", { QNA_ID: qna_id })\r\n                .then((response) => {\r\n                    window.location.reload();\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Error deleting Q&A\", error);\r\n                });\r\n        },\r\n        getEditId(qna_id) {\r\n            this.$router.push({ name: \"qnaEdit\", params: { id: qna_id } });\r\n        },\r\n        async getQnaNum() {\r\n            try {\r\n                const res = await axios.post(\"/qna/getQnaNum\", { email: this.email });\r\n                console.log(res.data[0].num);\r\n                if (this.qnaDoneList.length > 0) {\r\n                    // Update the totalQnaNum after getting the data\r\n                    this.totalQnaNum = res.data[0].num;\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}