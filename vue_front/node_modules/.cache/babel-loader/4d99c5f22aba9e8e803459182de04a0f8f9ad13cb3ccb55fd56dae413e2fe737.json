{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport GnbBar from \"../components/gnbBar.vue\";\nimport Floating from \"../components/floating.vue\";\nimport StarIcon from \"../components/star.vue\"; // 별점 아이콘 컴포넌트의 경로를 수정해주세요.\nimport ScrollTop from \"@/components/scrollTop.vue\";\nimport { isLogindDisplay } from \"../mixins/main.js\";\nimport axios from \"axios\";\naxios.defaults.baseURL = \"http://localhost:3000\";\naxios.defaults.headers.post[\"Contents-Type\"] = \"application/json;charset=utf-8\";\naxios.defaults.headers.post[\"Access-Control-Allow-Origin\"] = \"*\";\nexport default {\n  mixins: [isLogindDisplay],\n  name: \"\",\n  components: {\n    GnbBar,\n    StarIcon,\n    Floating,\n    ScrollTop\n  },\n  data() {\n    return {\n      recListData: [],\n      reviewScore: [],\n      // 리뷰 점수를 얻어온다고 가정\n      email: \"\",\n      bookId: \"\",\n      bestBook: [],\n      //좋아요 여부\n      isLiked: false,\n      likeBook: [],\n      // 페이징\n      perPage: 10,\n      //한 페이지에 보여줄 게시물 수\n      currentPage: 1,\n      // 현재 페이지 번호\n      totalPages: 1,\n      // 총 페이지 수\n      maxDisplayedPages: 9 // 표시할 최대 페이지 수 (현재 페이지를 중심으로 좌우로 표시)\n    };\n  },\n\n  setup() {},\n  created() {\n    this.email = localStorage.getItem(\"userID\");\n    this.getLikeBook();\n    this.getRecList();\n    this.getBestBook();\n  },\n  mounted() {},\n  unmounted() {},\n  computed: {\n    totalPages() {\n      // 전체 페이지 수 계산\n      this.totalPages = Math.ceil(this.recListData.length / this.perPage);\n      return Math.ceil(this.recListData.length / this.perPage);\n    },\n    pageNumbers() {\n      const start = Math.max(1, this.currentPage - Math.floor(this.maxDisplayedPages / 2));\n      const end = Math.min(this.totalPages, start + this.maxDisplayedPages - 1);\n      return Array.from({\n        length: end - start + 1\n      }, (_, i) => start + i);\n    }\n  },\n  methods: {\n    changePage(pageNumber) {\n      if (pageNumber === \"first\") {\n        // 맨 앞 페이지로 이동\n        pageNumber = 1;\n      } else if (pageNumber === \"last\") {\n        // 맨 뒤 페이지로 이동\n        pageNumber = this.totalPages;\n      } else {\n        pageNumber = parseInt(pageNumber); // 페이지 번호로 변환\n      }\n\n      window.scrollTo({\n        top: 0,\n        behavior: \"auto\"\n      });\n      if (pageNumber >= 1 && pageNumber <= this.totalPages) {\n        this.currentPage = pageNumber;\n        // 페이지 변경 시 추가 로직 수행\n        // 예: API 호출하여 해당 페이지 데이터 가져오기\n        // displayedPosts 업데이트\n        this.displayedPosts = this.recListData.slice((this.currentPage - 1) * this.perPage, this.currentPage * this.perPage);\n      }\n    },\n    async getRecList() {\n      if (localStorage.getItem(\"userID\")) {\n        try {\n          const response = await axios.post(\"http://localhost:3000/booklist/getRecList\", {\n            email: this.email\n          });\n          this.recListData = response.data.map(book => ({\n            ...book,\n            isLiked: this.likeBook.includes(book.BOOK_ID)\n          }));\n          for (const book of response.data) {\n            this.reviewScore.push(book.reviewpoint / 2);\n          }\n          // displayedPosts에 categoryData 데이터 복사\n          this.displayedPosts = this.recListData.slice((this.currentPage - 1) * this.perPage, this.currentPage * this.perPage);\n        } catch (error) {\n          alert(error);\n        }\n      }\n    },\n    //회원이 좋아요한 책 ID 가져오기\n    async getLikeBook() {\n      await axios({\n        url: \"http://localhost:3000/bookList/checkLikeList\",\n        method: \"POST\",\n        data: {\n          email: this.email\n        }\n      }).then(res => {\n        this.likeBook = res.data;\n      });\n    },\n    async likeToggle(bookId) {\n      if (localStorage.getItem(\"userID\")) {\n        this.bookId = bookId;\n        await axios({\n          url: \"http://localhost:3000/detail/likeOrDislike\",\n          method: \"POST\",\n          data: {\n            email: this.email,\n            bookId: this.bookId\n          }\n        }).then(res => {\n          console.log(res.data, \"좋아요 추가삭제\");\n          this.getLikeBook();\n          this.getRecList();\n        });\n      } else {\n        const conResult = confirm(\"로그인이 필요합니다. \\n 로그인 하시겠습니까?\");\n        conResult ? window.location.href = \"/login\" : null;\n      }\n    },\n    async getBestBook() {\n      await axios({\n        url: \"http://localhost:3000/main/getBestBook\",\n        method: \"POST\",\n        data: {}\n      }).then(res => {\n        for (var i in res.data) {\n          this.bestBook.push(res.data[i]);\n        }\n        console.log(this.bestBook, \"베스트북\");\n      }).catch(err => {\n        alert(err);\n      });\n    },\n    //입력된 숫자를 주어진 범위에 따라 적절한 별점으로 변환\n    convertRatingToHalfStars(number) {\n      if (Number.isInteger(number)) {\n        if (number >= 1 && number <= 5) {\n          return number;\n        } else {\n          return 0; // 범위를 벗어나는 경우\n        }\n      } else {\n        const integerPart = Math.floor(number);\n        const decimalPart = number - integerPart;\n        if (decimalPart < 0.5) {\n          return integerPart;\n        } else {\n          return integerPart + 0.5;\n        }\n      }\n    },\n    formatReviewScore(number) {\n      if (Number.isInteger(number)) {\n        return number.toFixed(1); // 정수인 경우 소수점 자리를 1로 설정하여 변환\n      } else {\n        return number.toString(); // 소수인 경우 그대로 문자열로 변환\n      }\n    },\n\n    formatNumber(number) {\n      // 숫자를 천 단위마다 쉼표가 있는 형식으로 변환\n      return new Intl.NumberFormat().format(number);\n    },\n    //장바구니에 추가\n    async addToCart(bookId) {\n      if (localStorage.getItem(\"userID\")) {\n        this.bookId = bookId;\n        await axios({\n          url: \"http://localhost:3000/detail/gotoCart\",\n          method: \"POST\",\n          data: {\n            email: this.email,\n            bookId: this.bookId\n          }\n        }).then(res => {\n          alert(\"장바구니에 추가되었습니다.\");\n          this.$refs.childComponent.getCartNum();\n        });\n      } else {\n        const conResult = confirm(\"로그인이 필요합니다. \\n 로그인 하시겠습니까?\");\n        conResult ? window.location.href = \"/login\" : null;\n      }\n    },\n    // 결제하기 버튼 클릭시 서버로 보낼 데이터\n    async goToPay(bookId, bookPrice) {\n      const totalPoint = bookPrice * 0.05;\n      const bookfee = bookPrice >= 50000 ? 0 : 2500;\n      await axios({\n        url: \"http://localhost:3000/detail/gotoPay\",\n        method: \"POST\",\n        data: {\n          bookId: bookId,\n          bookNum: 1,\n          email: this.email,\n          total_pay: bookPrice,\n          total_point: totalPoint,\n          fee: bookfee\n        }\n      }).then(res => {\n        console.log(res.data.payID);\n        this.$router.push({\n          name: \"paymentPage\",\n          query: {\n            payid: res.data.payID\n          }\n        });\n      }).catch(error => {\n        console.error(\"Error goToPay :\", error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["GnbBar","Floating","StarIcon","ScrollTop","isLogindDisplay","axios","defaults","baseURL","headers","post","mixins","name","components","data","recListData","reviewScore","email","bookId","bestBook","isLiked","likeBook","perPage","currentPage","totalPages","maxDisplayedPages","setup","created","localStorage","getItem","getLikeBook","getRecList","getBestBook","mounted","unmounted","computed","Math","ceil","length","pageNumbers","start","max","floor","end","min","Array","from","_","i","methods","changePage","pageNumber","parseInt","window","scrollTo","top","behavior","displayedPosts","slice","response","map","book","includes","BOOK_ID","push","reviewpoint","error","alert","url","method","then","res","likeToggle","console","log","conResult","confirm","location","href","catch","err","convertRatingToHalfStars","number","Number","isInteger","integerPart","decimalPart","formatReviewScore","toFixed","toString","formatNumber","Intl","NumberFormat","format","addToCart","$refs","childComponent","getCartNum","goToPay","bookPrice","totalPoint","bookfee","bookNum","total_pay","total_point","fee","payID","$router","query","payid"],"sources":["C:\\Users\\Lim\\Desktop\\BOOK_0728\\MOONMOON\\vue_front\\src\\views\\recommendList.vue"],"sourcesContent":["<style src=\"../assets/css/bestList.css\"></style>\r\n\r\n<template>\r\n    <GnbBar ref=\"childComponent\" />\r\n    <div class=\"best\">\r\n        <div class=\"best_header\">\r\n            <h2>추천</h2>\r\n        </div>\r\n        <div v-if=\"logined == false\" class=\"main_container_blur\">\r\n            <h2>로그인하시면 취향에 맞는 책을 보여드려요</h2>\r\n            <a href=\"/login\">로그인하고 책 추천받기</a>\r\n        </div>\r\n        <div ref=\"mainBlur\" class=\"best_items blur\">\r\n            <!-- 로그인시 -->\r\n            <div v-if=\"logined == true\" v-for=\"(item, i) in displayedPosts\" :key=\"i\" class=\"best_item\">\r\n                <div class=\"best_item_img\">\r\n                    <a :href=\"`/detail/${item.BOOK_ID}`\"><img :src=\"item.BOOK_COVER\" alt=\"\" /></a>\r\n                </div>\r\n                <div class=\"best_item_info\">\r\n                    <h2 class=\"best_item_info_title\">\r\n                        <a :href=\"`/detail/${item.BOOK_ID}`\">{{ item.BOOK_TITLE }}</a>\r\n                    </h2>\r\n                    <span class=\"best_item_info_author\">{{ item.BOOK_AUTHOR }} | {{ item.BOOK_PUBDATE }}</span>\r\n                    <div class=\"best_item_info_price\">\r\n                        <span>{{ formatNumber(item.BOOK_PRICE) }}</span>\r\n                        <span>원</span>\r\n                    </div>\r\n                    <p class=\"best_item_info_summary\">\r\n                        {{ item.BOOK_DESCRIPTION }}\r\n                    </p>\r\n                    <div class=\"best_item_info_star\">\r\n                        <span v-if=\"item.reviewpoint == 0\" class=\"best_item_info_star_num\">0.0</span>\r\n                        <span v-else class=\"best_item_info_star_num\">{{ formatReviewScore(item.reviewpoint) }}</span>\r\n                        <StarIcon :rating=\"convertRatingToHalfStars(reviewScore[i])\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"best_item_order\">\r\n                    <a @click=\"goToPay(item.BOOK_ID, item.BOOK_PRICE)\" href=\"#\">결제하러 가기</a>\r\n                    <p><span>내일(7/28)</span> 도착예정</p>\r\n                </div>\r\n                <div class=\"best_item_btn\">\r\n                    <img v-if=\"item.isLiked == true\" @click=\"likeToggle(item.BOOK_ID)\" src=\"../assets/img/heartFill.png\" alt=\"Heart Filled\" />\r\n                    <img v-else-if=\"item.isLiked == false\" @click=\"likeToggle(item.BOOK_ID)\" src=\"../assets/img/heart.png\" alt=\"Heart\" />\r\n                    <img @click=\"addToCart(item.BOOK_ID)\" src=\"../assets/img/cart2.png\" alt=\"\" />\r\n                </div>\r\n            </div>\r\n            <!-- 비로그인시 -->\r\n            <div v-else-if=\"logined == false\" v-for=\"(item, i) in bestBook\" class=\"best_item\">\r\n                <div class=\"best_item_img\">\r\n                    <a href=\"\"><img :src=\"item.BOOK_COVER\" alt=\"\" /></a>\r\n                </div>\r\n                <div class=\"best_item_info\">\r\n                    <h2 class=\"best_item_info_title\">\r\n                        <a href=\"\">{{ item.BOOK_TITLE }}</a>\r\n                    </h2>\r\n                    <span class=\"best_item_info_author\">{{ item.BOOK_AUTHOR }} | {{ item.PUBDATE }}</span>\r\n                    <div class=\"best_item_info_price\">\r\n                        <span>{{ formatNumber(item.BOOK_PRICE) }}</span>\r\n                        <span>원</span>\r\n                    </div>\r\n                    <p class=\"best_item_info_summary\">\r\n                        {{ item.BOOK_DESCRIPTION }}\r\n                    </p>\r\n                    <div class=\"best_item_info_star\">\r\n                        <span v-if=\"item.reviewpoint == 0\" class=\"best_item_info_star_num\">0.0</span>\r\n                        <span v-else class=\"best_item_info_star_num\">{{ formatReviewScore(10) }}</span>\r\n                        <StarIcon :rating=\"convertRatingToHalfStars(10)\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"best_item_order\">\r\n                    <a @click=\"goToPay(item.BOOK_ID, item.BOOK_PRICE)\" href=\"#\">결제하러 가기</a>\r\n                    <p><span>내일(7/28)</span> 도착예정</p>\r\n                </div>\r\n                <div class=\"best_item_btn\">\r\n                    <img v-if=\"item.isLiked == true\" @click=\"likeToggle(item.BOOK_ID)\" src=\"../assets/img/heartFill.png\" alt=\"Heart Filled\" />\r\n                    <img v-else-if=\"item.isLiked == false\" @click=\"likeToggle(item.BOOK_ID)\" src=\"../assets/img/heart.png\" alt=\"Heart\" />\r\n                    <img @click=\"addToCart(item.BOOK_ID)\" src=\"../assets/img/cart2.png\" alt=\"\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"booklist_paging\">\r\n            <button @click=\"changePage('first')\" :disabled=\"currentPage === 1\">맨앞</button>\r\n            <button @click=\"changePage(currentPage - 1)\" :disabled=\"currentPage === 1\">이전</button>\r\n            <button\r\n                v-for=\"pageNumber in pageNumbers\"\r\n                :key=\"pageNumber\"\r\n                @click=\"changePage(pageNumber)\"\r\n                :class=\"{ active: pageNumber === currentPage }\"\r\n            >\r\n                {{ pageNumber }}\r\n            </button>\r\n            <button @click=\"changePage(currentPage + 1)\" :disabled=\"currentPage === totalPages\">다음</button>\r\n            <button @click=\"changePage('last')\" :disabled=\"currentPage === totalPages\">맨뒤</button>\r\n        </div>\r\n        <!-- 플로팅-->\r\n        <Floating />\r\n        <!-- 스크롤 TOP -->\r\n        <ScrollTop />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport GnbBar from \"../components/gnbBar.vue\";\r\nimport Floating from \"../components/floating.vue\";\r\nimport StarIcon from \"../components/star.vue\"; // 별점 아이콘 컴포넌트의 경로를 수정해주세요.\r\nimport ScrollTop from \"@/components/scrollTop.vue\";\r\n\r\nimport { isLogindDisplay } from \"../mixins/main.js\";\r\n\r\nimport axios from \"axios\";\r\naxios.defaults.baseURL = \"http://localhost:3000\";\r\naxios.defaults.headers.post[\"Contents-Type\"] = \"application/json;charset=utf-8\";\r\naxios.defaults.headers.post[\"Access-Control-Allow-Origin\"] = \"*\";\r\n\r\nexport default {\r\n    mixins: [isLogindDisplay],\r\n    name: \"\",\r\n    components: { GnbBar, StarIcon, Floating, ScrollTop },\r\n    data() {\r\n        return {\r\n            recListData: [],\r\n            reviewScore: [], // 리뷰 점수를 얻어온다고 가정\r\n            email: \"\",\r\n            bookId: \"\",\r\n\r\n            bestBook: [],\r\n\r\n            //좋아요 여부\r\n            isLiked: false,\r\n            likeBook: [],\r\n\r\n            // 페이징\r\n            perPage: 10, //한 페이지에 보여줄 게시물 수\r\n            currentPage: 1, // 현재 페이지 번호\r\n            totalPages: 1, // 총 페이지 수\r\n            maxDisplayedPages: 9, // 표시할 최대 페이지 수 (현재 페이지를 중심으로 좌우로 표시)\r\n        };\r\n    },\r\n\r\n    setup() {},\r\n    created() {\r\n        this.email = localStorage.getItem(\"userID\");\r\n        this.getLikeBook();\r\n        this.getRecList();\r\n        this.getBestBook();\r\n    },\r\n    mounted() {},\r\n    unmounted() {},\r\n    computed: {\r\n        totalPages() {\r\n            // 전체 페이지 수 계산\r\n            this.totalPages = Math.ceil(this.recListData.length / this.perPage);\r\n            return Math.ceil(this.recListData.length / this.perPage);\r\n        },\r\n        pageNumbers() {\r\n            const start = Math.max(1, this.currentPage - Math.floor(this.maxDisplayedPages / 2));\r\n            const end = Math.min(this.totalPages, start + this.maxDisplayedPages - 1);\r\n            return Array.from({ length: end - start + 1 }, (_, i) => start + i);\r\n        },\r\n    },\r\n    methods: {\r\n        changePage(pageNumber) {\r\n            if (pageNumber === \"first\") {\r\n                // 맨 앞 페이지로 이동\r\n                pageNumber = 1;\r\n            } else if (pageNumber === \"last\") {\r\n                // 맨 뒤 페이지로 이동\r\n                pageNumber = this.totalPages;\r\n            } else {\r\n                pageNumber = parseInt(pageNumber); // 페이지 번호로 변환\r\n            }\r\n\r\n            window.scrollTo({ top: 0, behavior: \"auto\" });\r\n            if (pageNumber >= 1 && pageNumber <= this.totalPages) {\r\n                this.currentPage = pageNumber;\r\n                // 페이지 변경 시 추가 로직 수행\r\n                // 예: API 호출하여 해당 페이지 데이터 가져오기\r\n                // displayedPosts 업데이트\r\n                this.displayedPosts = this.recListData.slice((this.currentPage - 1) * this.perPage, this.currentPage * this.perPage);\r\n            }\r\n        },\r\n        async getRecList() {\r\n            if (localStorage.getItem(\"userID\")) {\r\n                try {\r\n                    const response = await axios.post(\"http://localhost:3000/booklist/getRecList\", {\r\n                        email: this.email,\r\n                    });\r\n\r\n                    this.recListData = response.data.map((book) => ({\r\n                        ...book,\r\n                        isLiked: this.likeBook.includes(book.BOOK_ID),\r\n                    }));\r\n\r\n                    for (const book of response.data) {\r\n                        this.reviewScore.push(book.reviewpoint / 2);\r\n                    }\r\n                    // displayedPosts에 categoryData 데이터 복사\r\n                    this.displayedPosts = this.recListData.slice((this.currentPage - 1) * this.perPage, this.currentPage * this.perPage);\r\n                } catch (error) {\r\n                    alert(error);\r\n                }\r\n            }\r\n        },\r\n        //회원이 좋아요한 책 ID 가져오기\r\n        async getLikeBook() {\r\n            await axios({\r\n                url: \"http://localhost:3000/bookList/checkLikeList\",\r\n                method: \"POST\",\r\n                data: {\r\n                    email: this.email,\r\n                },\r\n            }).then((res) => {\r\n                this.likeBook = res.data;\r\n            });\r\n        },\r\n        async likeToggle(bookId) {\r\n            if (localStorage.getItem(\"userID\")) {\r\n                this.bookId = bookId;\r\n                await axios({\r\n                    url: \"http://localhost:3000/detail/likeOrDislike\",\r\n                    method: \"POST\",\r\n                    data: {\r\n                        email: this.email,\r\n                        bookId: this.bookId,\r\n                    },\r\n                }).then((res) => {\r\n                    console.log(res.data, \"좋아요 추가삭제\");\r\n                    this.getLikeBook();\r\n                    this.getRecList();\r\n                });\r\n            } else {\r\n                const conResult = confirm(\"로그인이 필요합니다. \\n 로그인 하시겠습니까?\");\r\n                conResult ? (window.location.href = \"/login\") : null;\r\n            }\r\n        },\r\n        async getBestBook() {\r\n            await axios({\r\n                url: \"http://localhost:3000/main/getBestBook\",\r\n                method: \"POST\",\r\n                data: {},\r\n            })\r\n                .then((res) => {\r\n                    for (var i in res.data) {\r\n                        this.bestBook.push(res.data[i]);\r\n                    }\r\n                    console.log(this.bestBook, \"베스트북\");\r\n                })\r\n                .catch((err) => {\r\n                    alert(err);\r\n                });\r\n        },\r\n        //입력된 숫자를 주어진 범위에 따라 적절한 별점으로 변환\r\n        convertRatingToHalfStars(number) {\r\n            if (Number.isInteger(number)) {\r\n                if (number >= 1 && number <= 5) {\r\n                    return number;\r\n                } else {\r\n                    return 0; // 범위를 벗어나는 경우\r\n                }\r\n            } else {\r\n                const integerPart = Math.floor(number);\r\n                const decimalPart = number - integerPart;\r\n\r\n                if (decimalPart < 0.5) {\r\n                    return integerPart;\r\n                } else {\r\n                    return integerPart + 0.5;\r\n                }\r\n            }\r\n        },\r\n        formatReviewScore(number) {\r\n            if (Number.isInteger(number)) {\r\n                return number.toFixed(1); // 정수인 경우 소수점 자리를 1로 설정하여 변환\r\n            } else {\r\n                return number.toString(); // 소수인 경우 그대로 문자열로 변환\r\n            }\r\n        },\r\n        formatNumber(number) {\r\n            // 숫자를 천 단위마다 쉼표가 있는 형식으로 변환\r\n            return new Intl.NumberFormat().format(number);\r\n        },\r\n        //장바구니에 추가\r\n        async addToCart(bookId) {\r\n            if (localStorage.getItem(\"userID\")) {\r\n                this.bookId = bookId;\r\n                await axios({\r\n                    url: \"http://localhost:3000/detail/gotoCart\",\r\n                    method: \"POST\",\r\n                    data: {\r\n                        email: this.email,\r\n                        bookId: this.bookId,\r\n                    },\r\n                }).then((res) => {\r\n                    alert(\"장바구니에 추가되었습니다.\");\r\n                    this.$refs.childComponent.getCartNum();\r\n                });\r\n            } else {\r\n                const conResult = confirm(\"로그인이 필요합니다. \\n 로그인 하시겠습니까?\");\r\n                conResult ? (window.location.href = \"/login\") : null;\r\n            }\r\n        },\r\n        // 결제하기 버튼 클릭시 서버로 보낼 데이터\r\n        async goToPay(bookId, bookPrice) {\r\n            const totalPoint = bookPrice * 0.05;\r\n            const bookfee = bookPrice >= 50000 ? 0 : 2500;\r\n            await axios({\r\n                url: \"http://localhost:3000/detail/gotoPay\",\r\n                method: \"POST\",\r\n                data: {\r\n                    bookId: bookId,\r\n                    bookNum: 1,\r\n                    email: this.email,\r\n                    total_pay: bookPrice,\r\n                    total_point: totalPoint,\r\n                    fee: bookfee,\r\n                },\r\n            })\r\n                .then((res) => {\r\n                    console.log(res.data.payID);\r\n                    this.$router.push({ name: \"paymentPage\", query: { payid: res.data.payID } });\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Error goToPay :\", error);\r\n                });\r\n        },\r\n    },\r\n};\r\n</script>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}