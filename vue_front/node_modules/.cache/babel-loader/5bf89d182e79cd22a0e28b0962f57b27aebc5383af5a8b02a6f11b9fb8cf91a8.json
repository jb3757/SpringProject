{"ast":null,"code":"import axios from \"axios\";\naxios.defaults.baseURL = \"http://localhost:3000\";\naxios.defaults.headers.post[\"Content-Type\"] = \"application/json;charset=utf-8\";\naxios.defaults.headers.post[\"Access-Control-Allow-Origin\"] = \"*\";\nimport SideBar from '../components/adminSidebar.vue';\nexport default {\n  name: '',\n  components: {\n    SideBar\n  },\n  data() {\n    return {\n      userData: [],\n      //정렬\n      filterValue: \"답변 대기\",\n      // 페이징\n      perPage: 10,\n      // 한 페이지에 보여줄 게시물 수\n      currentPage: 1,\n      // 현재 페이지 번호\n      maxDisplayedPages: 9 // 표시할 최대 페이지 수 (현재 페이지를 중심으로 좌우로 표시)\n    };\n  },\n\n  setup() {},\n  created() {},\n  mounted() {\n    this.getUserData();\n  },\n  unmounted() {},\n  computed: {\n    totalPages() {\n      return Math.ceil(this.userData.length / this.perPage);\n    },\n    displayedPosts() {\n      const start = Math.max(0, (this.currentPage - 1) * this.perPage);\n      const end = Math.min(this.userData.length, this.currentPage * this.perPage);\n      return this.userData.slice(start, end);\n    },\n    pageNumbers() {\n      const start = Math.max(1, this.currentPage - Math.floor(this.maxDisplayedPages / 2));\n      const end = Math.min(this.totalPages, start + this.maxDisplayedPages - 1);\n      return Array.from({\n        length: end - start + 1\n      }, (_, i) => start + i);\n    }\n  },\n  methods: {\n    async getUserData() {\n      await axios({\n        url: \"http://localhost:3000/admin/adminQnaWait\",\n        method: \"POST\",\n        data: {}\n      }).then(res => {\n        if (this.filterValue === \"답변 대기\") {\n          console.log(res.data);\n        } else if (this.filterValue === \"답변 완료\") {}\n      }).catch(err => {\n        alert(err);\n      });\n    },\n    formatNumber(number) {\n      // 숫자를 천 단위마다 쉼표가 있는 형식으로 변환\n      return new Intl.NumberFormat().format(number);\n    },\n    changePage(pageNumber) {\n      if (pageNumber === 'first') {\n        pageNumber = 1;\n      } else if (pageNumber === 'last') {\n        pageNumber = this.totalPages;\n      } else {\n        pageNumber = parseInt(pageNumber);\n      }\n      window.scrollTo({\n        top: 0,\n        behavior: 'auto'\n      });\n      if (pageNumber >= 1 && pageNumber <= this.totalPages) {\n        this.currentPage = pageNumber;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","defaults","baseURL","headers","post","SideBar","name","components","data","userData","filterValue","perPage","currentPage","maxDisplayedPages","setup","created","mounted","getUserData","unmounted","computed","totalPages","Math","ceil","length","displayedPosts","start","max","end","min","slice","pageNumbers","floor","Array","from","_","i","methods","url","method","then","res","console","log","catch","err","alert","formatNumber","number","Intl","NumberFormat","format","changePage","pageNumber","parseInt","window","scrollTo","top","behavior"],"sources":["C:\\Users\\Lim\\Desktop\\BOOK_0728\\MOONMOON\\vue_front\\src\\components\\adminQnaManage.vue"],"sourcesContent":["<style scoped src=\"../../sb-admin-2/vendor/datatables/dataTables.bootstrap4.min.css\"></style>\r\n<style scoped src=\"../assets/css/sbadmin.css\"></style>\r\n\r\n\r\n<template>\r\n    <body id=\"page-top\">\r\n\r\n        <!-- Page Wrapper -->\r\n        <div id=\"wrapper\">\r\n\r\n            <!-- Sidebar -->\r\n            <SideBar />\r\n            <!-- End Sidebar -->\r\n\r\n            <!-- Content Wrapper -->\r\n            <div id=\"content-wrapper\" class=\"d-flex flex-column\">\r\n\r\n                <!-- Main Content -->\r\n                <div id=\"content\">\r\n\r\n                    <!-- Topbar -->\r\n                    <nav\r\n                        class=\"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow d-flex align-items-center justify-content-center\">\r\n                        <h1 class=\"\">MOONMOON</h1>\r\n                    </nav>\r\n                    <!-- End of Topbar -->\r\n\r\n                    <!-- Begin Page Content -->\r\n                    <div class=\"container-fluid\">\r\n\r\n                        <!-- Page Heading -->\r\n                        <div class=\"d-flex align-items-center justify-content-between mb-3\">\r\n                            <h1 class=\"h3 mb-2 text-gray-800 col-4\">문의 관리</h1>\r\n\r\n                        </div>\r\n\r\n                        <!-- DataTales Example -->\r\n                        <div class=\"card shadow mb-4\">\r\n                            <div class=\"card-header py-3 d-flex align-items-center justify-content-between\">\r\n                                <h6 class=\"m-0 font-weight-bold text-primary\">문의 목록</h6>\r\n\r\n                                <div class=\"btn-group\">\r\n                                    <select class=\"btn btn-secondary dropdown-toggle\" @change=\"getUserData\"\r\n                                        v-model=\"filterValue\">\r\n                                        <option class=\"dropdown-item btn cursor-pointer\" value=\"답변 대기\">답변 대기</option>\r\n                                        <option class=\"dropdown-item btn cursor-pointer\" value=\"답변 완료\">답변 완료</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"card-body\">\r\n                                <div class=\"table-responsive\">\r\n                                    <table class=\"table table-bordered\" id=\"dataTable\" width=\"100%\" cellspacing=\"0\">\r\n                                        <thead>\r\n                                            <tr style=\"font-weight: bold;\">\r\n                                                <th>문의 번호</th>\r\n                                                <th>문의 제목</th>\r\n                                                <th>문의 내용</th>\r\n                                                <th>문의 날짜</th>\r\n                                                <th>고객 이메일</th>\r\n                                                <th>답변 여부</th>\r\n                                                <th>답변 달기</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tfoot>\r\n                                            <tr style=\"font-weight: bold;\">\r\n                                                <th>문의 번호</th>\r\n                                                <th>문의 제목</th>\r\n                                                <th>문의 내용</th>\r\n                                                <th>문의 날짜</th>\r\n                                                <th>고객 이메일</th>\r\n                                                <th>답변 여부</th>\r\n                                                <th>답변 달기</th>\r\n                                            </tr>\r\n                                        </tfoot>\r\n                                        <tbody>\r\n                                            <tr ref=\"userData\" v-for=\"(item, i) in displayedPosts\" :key=\"i\">\r\n                                                <td class=\"col-1 align-middle\" style=\"font-size: small;\">{{\r\n                                                    item.USER_NAME }}</td>\r\n                                                <td class=\"col-2 align-middle\"\r\n                                                    style=\"font-size: small;\">여성</td>\r\n                                                <td class=\"col-4 align-middle\" style=\"font-size: small;\">\r\n                                                    {{ item.USER_AGEGROUP }}</td>\r\n                                                <td class=\"col-1 align-middle\" style=\"font-size: small;\">\r\n                                                    {{ item.USER_EMAIL }}</td>\r\n                                                <td class=\"col-1 align-middle\" :style=\"{\r\n                                                    color: item.USER_TOTAL_PAY === '프렌즈' ? '#47C867' :\r\n                                                        item.USER_TOTAL_PAY === '실버' ? '#8F99BF' :\r\n                                                            item.USER_TOTAL_PAY === '골드' ? '#F6A621' :\r\n                                                                item.USER_TOTAL_PAY === '플래티넘' ? '#5D59E1' : 'black'\r\n                                                }\">{{ item.USER_TOTAL_PAY }}</td>\r\n                                                <td class=\"col-1 align-middle\" style=\"font-size: small;\">\r\n                                                    {{ item.USER_EMAIL }}</td>\r\n                                                <td class=\"col-1 align-middle\" style=\"font-size: small;\"><button\r\n                                                        type=\"button\" class=\"btn btn-primary\" data-bs-toggle=\"modal\"\r\n                                                        data-bs-target=\"#exampleModal\">\r\n                                                        답변하기\r\n                                                    </button>\r\n                                                    <!-- 모달 -->\r\n                                                    <div class=\"modal fade position-fixed\" id=\"exampleModal\" tabindex=\"-1\"\r\n                                                        aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                                                        <div class=\"modal-dialog col-8\" style=\"top: 15%; left: 0\">\r\n                                                            <div class=\"modal-content\">\r\n                                                                <div class=\"modal-header\">\r\n                                                                    <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">문의\r\n                                                                        답변하기</h1>\r\n                                                                </div>\r\n                                                                <div class=\"modal-body\">\r\n                                                                    <form>\r\n                                                                        <div class=\"mb-3\">\r\n                                                                            <label for=\"message-text\"\r\n                                                                                class=\"col-form-label\">답변내용 : </label>\r\n                                                                            <textarea class=\"form-control\"\r\n                                                                                id=\"message-text\"></textarea>\r\n                                                                        </div>\r\n                                                                    </form>\r\n                                                                </div>\r\n                                                                <div class=\"modal-footer\">\r\n                                                                    <button type=\"button\" class=\"btn btn-secondary\"\r\n                                                                        data-bs-dismiss=\"modal\">닫기</button>\r\n                                                                    <button type=\"button\"\r\n                                                                        class=\"btn btn-primary\">완료</button>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                </td>\r\n                                                <!-- <td class=\"d-flex align-items-center border-0 col-1\"><button\r\n                                                        class=\"btn btn-danger btn-circle btn-sm  p-3\"\r\n                                                        @click=\"deleteBookData(item.BOOK_ID)\"><i\r\n                                                            class=\"fas fa-trash\"></i></button></td> -->\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <!-- /.container-fluid -->\r\n                    <nav class=\"d-flex align-items-center justify-content-center\" aria-label=\"Page navigation example\">\r\n                        <ul class=\"pagination\">\r\n                            <li class=\"page-item\">\r\n                                <button class=\"page-link\" @click=\"changePage('first')\"\r\n                                    :disabled=\"currentPage === 1\">맨앞</button>\r\n                            </li>\r\n                            <li class=\"page-item\">\r\n                                <button class=\"page-link\" @click=\"changePage(currentPage - 1)\"\r\n                                    :disabled=\"currentPage === 1\">이전</button>\r\n                            </li>\r\n                            <li class=\"page-item d-flex\">\r\n                                <button class=\"page-link\" v-for=\"pageNumber in pageNumbers\" :key=\"pageNumber\"\r\n                                    @click=\"changePage(pageNumber)\"\r\n                                    :class=\"{ 'active': pageNumber === currentPage, 'disabled': pageNumber === currentPage || currentPage === 1 || currentPage === totalPages }\">\r\n                                    {{ pageNumber }}\r\n                                </button>\r\n                            </li>\r\n                            <li class=\"page-item\">\r\n                                <button class=\"page-link\" @click=\"changePage(currentPage + 1)\"\r\n                                    :disabled=\"currentPage === totalPages\">다음</button>\r\n                            </li>\r\n                            <li class=\"page-item\">\r\n                                <button class=\"page-link\" @click=\"changePage('last')\"\r\n                                    :disabled=\"currentPage === totalPages\">맨뒤</button>\r\n                            </li>\r\n                        </ul>\r\n\r\n                    </nav>\r\n                </div>\r\n                <!-- End of Main Content -->\r\n\r\n                <!-- Footer -->\r\n                <footer class=\"sticky-footer bg-white\">\r\n                    <div class=\"container my-auto\">\r\n                        <div class=\"copyright text-center my-auto\">\r\n                            <span>Copyright &copy; Your Website 2020</span>\r\n                        </div>\r\n                    </div>\r\n                </footer>\r\n                <!-- End of Footer -->\r\n\r\n            </div>\r\n            <!-- End of Content Wrapper -->\r\n\r\n        </div>\r\n        <!-- End of Page Wrapper -->\r\n\r\n        <!-- Scroll to Top Button-->\r\n        <a class=\"scroll-to-top rounded\" href=\"#page-top\">\r\n            <i class=\"fas fa-angle-up\"></i>\r\n        </a>\r\n\r\n        <!-- Logout Modal-->\r\n        <div class=\"modal fade\" id=\"logoutModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\r\n            aria-hidden=\"true\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Ready to Leave?</h5>\r\n                        <button class=\"close\" type=\"button\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                            <span aria-hidden=\"true\">×</span>\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"modal-body\">Select \"Logout\" below if you are ready to end your current session.</div>\r\n                    <div class=\"modal-footer\">\r\n                        <button class=\"btn btn-secondary\" type=\"button\" data-dismiss=\"modal\">Cancel</button>\r\n                        <a class=\"btn btn-primary\" href=\"login.html\">Logout</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </body>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\naxios.defaults.baseURL = \"http://localhost:3000\";\r\naxios.defaults.headers.post[\"Content-Type\"] = \"application/json;charset=utf-8\";\r\naxios.defaults.headers.post[\"Access-Control-Allow-Origin\"] = \"*\";\r\n\r\nimport SideBar from '../components/adminSidebar.vue';\r\n\r\nexport default {\r\n    name: '',\r\n    components: { SideBar },\r\n    data() {\r\n        return {\r\n            userData: [],\r\n\r\n            //정렬\r\n            filterValue: \"답변 대기\",\r\n\r\n            // 페이징\r\n            perPage: 10, // 한 페이지에 보여줄 게시물 수\r\n            currentPage: 1, // 현재 페이지 번호\r\n            maxDisplayedPages: 9, // 표시할 최대 페이지 수 (현재 페이지를 중심으로 좌우로 표시)\r\n        };\r\n    },\r\n\r\n    setup() { },\r\n    created() { },\r\n    mounted() {\r\n        this.getUserData();\r\n    },\r\n    unmounted() { },\r\n    computed: {\r\n        totalPages() {\r\n            return Math.ceil(this.userData.length / this.perPage);\r\n        },\r\n        displayedPosts() {\r\n            const start = Math.max(0, (this.currentPage - 1) * this.perPage);\r\n            const end = Math.min(this.userData.length, this.currentPage * this.perPage);\r\n            return this.userData.slice(start, end);\r\n        },\r\n        pageNumbers() {\r\n            const start = Math.max(1, this.currentPage - Math.floor(this.maxDisplayedPages / 2));\r\n            const end = Math.min(this.totalPages, start + this.maxDisplayedPages - 1);\r\n            return Array.from({ length: end - start + 1 }, (_, i) => start + i);\r\n        },\r\n    },\r\n    methods: {\r\n        async getUserData() {\r\n            await axios({\r\n                url: \"http://localhost:3000/admin/adminQnaWait\",\r\n                method: \"POST\",\r\n                data: {\r\n                },\r\n            })\r\n                .then((res) => {\r\n                   if(this.filterValue === \"답변 대기\") {\r\n                    console.log(res.data);\r\n                   } else if(this.filterValue === \"답변 완료\") {\r\n\r\n                   }\r\n                })\r\n                .catch((err) => {\r\n                    alert(err);\r\n                });\r\n        },\r\n        formatNumber(number) {\r\n            // 숫자를 천 단위마다 쉼표가 있는 형식으로 변환\r\n            return new Intl.NumberFormat().format(number);\r\n        },\r\n        changePage(pageNumber) {\r\n            if (pageNumber === 'first') {\r\n                pageNumber = 1;\r\n            } else if (pageNumber === 'last') {\r\n                pageNumber = this.totalPages;\r\n            } else {\r\n                pageNumber = parseInt(pageNumber);\r\n            }\r\n\r\n            window.scrollTo({ top: 0, behavior: 'auto' });\r\n            if (pageNumber >= 1 && pageNumber <= this.totalPages) {\r\n                this.currentPage = pageNumber;\r\n            }\r\n        },\r\n    }\r\n}\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}