{"ast":null,"code":"import axios from \"axios\";\nimport gnbbar from \"../components/gnbBar.vue\";\nexport default {\n  components: {\n    gnbbar\n  },\n  data() {\n    return {\n      payment_no: this.$route.query.payid,\n      bookTitle_data: [],\n      payInfo: []\n    };\n  },\n  computed: {},\n  mounted() {\n    this.getBookTitle();\n    this.getPayInfo();\n  },\n  methods: {\n    getBookTitle() {\n      const cartNum = this.payment_no;\n      axios({\n        url: \"/payresult\",\n        method: \"GET\",\n        params: {\n          cartNum\n        }\n      }).then(res => {\n        this.bookTitle_data = res.data;\n        this.cutTitle();\n        console.log(this.bookTitle_data[0].BOOK_TITLE);\n      });\n    },\n    cutTitle() {\n      const max_title_len = 24;\n      console.log(this.bookTitle_data[0].BOOK_TITLE);\n      const first_booktitle = this.bookTitle_data[0].BOOK_TITLE;\n      if (first_booktitle.length > max_title_len) {\n        this.bookTitle_data[0].BOOK_TITLE = this.bookTitle_data[0].BOOK_TITLE.slice(0, max_title_len) + \" ...\";\n      } else {\n        return this.bookTitle_data[0].BOOK_TITLE;\n      }\n    },\n    getPayInfo() {\n      axios({\n        url: \"/payresult/info\",\n        method: \"POST\",\n        data: {\n          payid: this.payment_no\n        }\n      }).then(res => {\n        this.payInfo = res.data;\n        console.log(this.payInfo[0].ORDER_PAY);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","gnbbar","components","data","payment_no","$route","query","payid","bookTitle_data","payInfo","computed","mounted","getBookTitle","getPayInfo","methods","cartNum","url","method","params","then","res","cutTitle","console","log","BOOK_TITLE","max_title_len","first_booktitle","length","slice","ORDER_PAY","catch","err"],"sources":["C:\\Users\\Lim\\Desktop\\BOOK_0728\\MOONMOON\\vue_front\\src\\views\\paymentResult.vue"],"sourcesContent":["<template>\r\n    <gnbbar />\r\n    <div class=\"pay_title\">주문/결제</div>\r\n\r\n    <div class=\"progress\">\r\n        <span class=\"before\">장바구니> 주문/결제> </span>\r\n        <span class=\"now\">완료</span>\r\n    </div>\r\n\r\n    <div class=\"paymentResult_wrap\">\r\n        <div class=\"result_title\"><span class=\"text_color\">주문이 완료</span>되었습니다.</div>\r\n        <div class=\"payment_info\">\r\n            <span>주문번호</span><span class=\"payment_no\">{{ payment_no }}</span> <br /><br />\r\n            <span>구매내역</span><span class=\"pay_result_title\">{{ bookTitle_data[0]?.BOOK_TITLE }}</span\r\n            ><span v-if=\"bookTitle_data.length > 1\"> 외 {{ bookTitle_data.length - 1 }} 개</span><br />\r\n            <br /><br /><br />\r\n            <div class=\"payresult_user_info\">\r\n                <div class=\"payresult_user_info2\">\r\n                    <div>배송지 정보</div>\r\n                    <div class=\"user_name\">임승리</div>\r\n                </div>\r\n                <br />\r\n                <div class=\"user_phone\">010-2222-2222</div>\r\n                <br />\r\n                <div class=\"user_add\">경기도 고양시 화신로 170 2111-1111</div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"payresult_bill\">\r\n            <div class=\"logo\"></div>\r\n            <div class=\"bill_top\">\r\n                <div class=\"cost\">\r\n                    <div class=\"payment_cost_text\">주문금액</div>\r\n                    <div class=\"payment_cost1\">{{ payInfo[0]?.ORDER_PAY }} 원</div>\r\n                </div>\r\n                <div class=\"cost_book\">\r\n                    <div class=\"payment_cost_text\">상품금액</div>\r\n                    <div class=\"payment_cost2\">{{ payInfo[0]?.price }} 원</div>\r\n                </div>\r\n                <div class=\"cost_fee\">\r\n                    <div class=\"payment_cost_text\">배송비</div>\r\n                    <div class=\"payment_cost3\">2500 원</div>\r\n                </div>\r\n                <div class=\"cost_coupon\">\r\n                    <div class=\"payment_cost_text\">쿠폰할인</div>\r\n                    <div class=\"payment_cost4\">-1000 원</div>\r\n                </div>\r\n                <div class=\"cost_point\">\r\n                    <div class=\"payment_cost_text\">사용한 포인트</div>\r\n                    <div class=\"payment_cost5\">0 포인트</div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"bill_bottom\">\r\n                <div class=\"pay_result\">결제 상세</div>\r\n                <div class=\"pay_info\">\r\n                    <div class=\"card_info\">신한 카드</div>\r\n                    <div class=\"pay_cost\">23000 원</div>\r\n                    <br />\r\n                </div>\r\n                <div class=\"pay_date\">2023-08-02 11:25</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport gnbbar from \"../components/gnbBar.vue\";\r\n\r\nexport default {\r\n    components: { gnbbar },\r\n    data() {\r\n        return {\r\n            payment_no: this.$route.query.payid,\r\n            bookTitle_data: [],\r\n            payInfo: [],\r\n        };\r\n    },\r\n    computed: {},\r\n    mounted() {\r\n        this.getBookTitle();\r\n        this.getPayInfo();\r\n    },\r\n    methods: {\r\n        getBookTitle() {\r\n            const cartNum = this.payment_no;\r\n\r\n            axios({\r\n                url: \"/payresult\",\r\n                method: \"GET\",\r\n                params: { cartNum },\r\n            }).then((res) => {\r\n                this.bookTitle_data = res.data;\r\n                this.cutTitle();\r\n\r\n                console.log(this.bookTitle_data[0].BOOK_TITLE);\r\n            });\r\n        },\r\n        cutTitle() {\r\n            const max_title_len = 24;\r\n            console.log(this.bookTitle_data[0].BOOK_TITLE);\r\n\r\n            const first_booktitle = this.bookTitle_data[0].BOOK_TITLE;\r\n            if (first_booktitle.length > max_title_len) {\r\n                this.bookTitle_data[0].BOOK_TITLE = this.bookTitle_data[0].BOOK_TITLE.slice(0, max_title_len) + \" ...\";\r\n            } else {\r\n                return this.bookTitle_data[0].BOOK_TITLE;\r\n            }\r\n        },\r\n        getPayInfo() {\r\n            axios({\r\n                url: \"/payresult/info\",\r\n                method: \"POST\",\r\n                data: { payid: this.payment_no },\r\n            })\r\n                .then((res) => {\r\n                    this.payInfo = res.data;\r\n                    console.log(this.payInfo[0].ORDER_PAY);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.payresult_user_info2 {\r\n    display: flex;\r\n}\r\n.user_name {\r\n    margin-left: 4.6%;\r\n}\r\n.user_phone {\r\n    margin-left: 12%;\r\n}\r\n.user_add {\r\n    margin-left: 12%;\r\n    text-align: left;\r\n}\r\n.pay_result_title {\r\n    margin-left: 80px;\r\n}\r\n.payment_no {\r\n    margin-left: 80px;\r\n    text-align: right;\r\n    color: #4e4eff;\r\n}\r\n.payment_info {\r\n    margin-top: 12%;\r\n    margin-left: 6%;\r\n    font-weight: bold;\r\n    font-size: 1.2em;\r\n}\r\n.paymentResult_wrap {\r\n    position: absolute;\r\n    border: none;\r\n    width: 70%;\r\n    height: 55%;\r\n    margin-left: 15%;\r\n    margin-right: 15%;\r\n    margin-top: 5%;\r\n    box-shadow: 0 0 15px #ccc;\r\n    border-radius: 10px;\r\n    background-color: white;\r\n}\r\n.payresult_bill {\r\n    position: relative;\r\n    border: 1px solid #000000;\r\n    width: 30%;\r\n    height: 100%;\r\n    top: -430px;\r\n    right: -830px;\r\n    background-image: url(\"../assets/img/bill.png\");\r\n    background-size: 100%;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    border: none;\r\n}\r\n.result_title {\r\n    position: relative;\r\n    top: 100px;\r\n    margin-left: 6%;\r\n    font-weight: bold;\r\n    font-size: 1.5em;\r\n}\r\n.result_title span {\r\n    color: #4e4eff;\r\n}\r\n.bill_top {\r\n    position: relative;\r\n    top: 130px;\r\n    border-top: 1px solid #999999;\r\n    width: 90%;\r\n    left: 19px;\r\n}\r\n.payment_cost {\r\n    text-align: right;\r\n}\r\n.cost {\r\n    display: flex;\r\n    position: relative;\r\n    font-weight: bold;\r\n    font-size: 1.1em;\r\n    margin-left: 7%;\r\n    margin-top: 5%;\r\n    justify-content: space-between;\r\n}\r\n.cost_book {\r\n    display: flex;\r\n    position: relative;\r\n    margin-top: 7%;\r\n    margin-left: 7%;\r\n    justify-content: space-between;\r\n}\r\n.cost_fee {\r\n    display: flex;\r\n    position: relative;\r\n    margin-top: 4%;\r\n    margin-left: 7%;\r\n    justify-content: space-between;\r\n}\r\n.cost_coupon {\r\n    display: flex;\r\n    position: relative;\r\n    margin-top: 4%;\r\n    margin-left: 7%;\r\n    justify-content: space-between;\r\n}\r\n.cost_point {\r\n    display: flex;\r\n    position: relative;\r\n    margin-top: 4%;\r\n    margin-left: 7%;\r\n    justify-content: space-between;\r\n}\r\n.bill_bottom {\r\n    position: relative;\r\n    top: 180px;\r\n    border-top: 1px solid #999999;\r\n    width: 90%;\r\n    left: 19px;\r\n}\r\n.pay_result {\r\n    margin-top: 15px;\r\n    margin-left: 7%;\r\n    font-weight: bold;\r\n    font-size: 1.1em;\r\n}\r\n.pay_info {\r\n    display: flex;\r\n    margin-left: 7%;\r\n    margin-top: 20px;\r\n}\r\n.pay_cost {\r\n    margin-left: 180px;\r\n    font-weight: bold;\r\n}\r\n.pay_date {\r\n    margin-left: 7%;\r\n    margin-top: 20px;\r\n}\r\n.payment_cost1 {\r\n    position: relative;\r\n    margin-right: 19px;\r\n    text-align: right;\r\n    float: right;\r\n}\r\n.payment_cost2 {\r\n    position: relative;\r\n    margin-right: 19px;\r\n    text-align: right;\r\n    float: right;\r\n}\r\n.payment_cost3 {\r\n    position: relative;\r\n    margin-right: 19px;\r\n    text-align: right;\r\n    float: right;\r\n}\r\n.payment_cost4 {\r\n    position: relative;\r\n    margin-right: 19px;\r\n    text-align: right;\r\n    float: right;\r\n}\r\n.payment_cost5 {\r\n    position: relative;\r\n    margin-right: 19px;\r\n    text-align: right;\r\n    float: right;\r\n}\r\n.progress {\r\n    position: absolute;\r\n    font-size: 1.4em;\r\n    top: 22%;\r\n    right: 15%;\r\n    font-weight: bolder;\r\n}\r\n.progress .before {\r\n    color: rgb(158, 158, 158);\r\n}\r\n.progress .now {\r\n    color: #4e4eff;\r\n}\r\n.pay_title {\r\n    position: absolute;\r\n    top: 22%;\r\n    left: 15%;\r\n    font-size: 1.6em;\r\n    font-weight: bolder;\r\n}\r\n</style>\r\n"],"mappings":"AAmEA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,0BAA0B;AAE7C,eAAe;EACXC,UAAU,EAAE;IAAED;EAAO,CAAC;EACtBE,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,UAAU,EAAE,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,KAAK;MACnCC,cAAc,EAAE,EAAE;MAClBC,OAAO,EAAE;IACb,CAAC;EACL,CAAC;EACDC,QAAQ,EAAE,CAAC,CAAC;EACZC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,YAAY,CAAC,CAAC;IACnB,IAAI,CAACC,UAAU,CAAC,CAAC;EACrB,CAAC;EACDC,OAAO,EAAE;IACLF,YAAYA,CAAA,EAAG;MACX,MAAMG,OAAM,GAAI,IAAI,CAACX,UAAU;MAE/BJ,KAAK,CAAC;QACFgB,GAAG,EAAE,YAAY;QACjBC,MAAM,EAAE,KAAK;QACbC,MAAM,EAAE;UAAEH;QAAQ;MACtB,CAAC,CAAC,CAACI,IAAI,CAAEC,GAAG,IAAK;QACb,IAAI,CAACZ,cAAa,GAAIY,GAAG,CAACjB,IAAI;QAC9B,IAAI,CAACkB,QAAQ,CAAC,CAAC;QAEfC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACf,cAAc,CAAC,CAAC,CAAC,CAACgB,UAAU,CAAC;MAClD,CAAC,CAAC;IACN,CAAC;IACDH,QAAQA,CAAA,EAAG;MACP,MAAMI,aAAY,GAAI,EAAE;MACxBH,OAAO,CAACC,GAAG,CAAC,IAAI,CAACf,cAAc,CAAC,CAAC,CAAC,CAACgB,UAAU,CAAC;MAE9C,MAAME,eAAc,GAAI,IAAI,CAAClB,cAAc,CAAC,CAAC,CAAC,CAACgB,UAAU;MACzD,IAAIE,eAAe,CAACC,MAAK,GAAIF,aAAa,EAAE;QACxC,IAAI,CAACjB,cAAc,CAAC,CAAC,CAAC,CAACgB,UAAS,GAAI,IAAI,CAAChB,cAAc,CAAC,CAAC,CAAC,CAACgB,UAAU,CAACI,KAAK,CAAC,CAAC,EAAEH,aAAa,IAAI,MAAM;MAC1G,OAAO;QACH,OAAO,IAAI,CAACjB,cAAc,CAAC,CAAC,CAAC,CAACgB,UAAU;MAC5C;IACJ,CAAC;IACDX,UAAUA,CAAA,EAAG;MACTb,KAAK,CAAC;QACFgB,GAAG,EAAE,iBAAiB;QACtBC,MAAM,EAAE,MAAM;QACdd,IAAI,EAAE;UAAEI,KAAK,EAAE,IAAI,CAACH;QAAW;MACnC,CAAC,EACIe,IAAI,CAAEC,GAAG,IAAK;QACX,IAAI,CAACX,OAAM,GAAIW,GAAG,CAACjB,IAAI;QACvBmB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACd,OAAO,CAAC,CAAC,CAAC,CAACoB,SAAS,CAAC;MAC1C,CAAC,EACAC,KAAK,CAAEC,GAAG,IAAK;QACZT,OAAO,CAACC,GAAG,CAACQ,GAAG,CAAC;MACpB,CAAC,CAAC;IACV;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}